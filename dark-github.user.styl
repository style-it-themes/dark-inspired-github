/* ==UserStyle==
@name         Dark GitHub
@namespace    github.com/style-it-themes/dark-github
@description  A Dark, customizable style for GitHub and subdomains.
@author       the-j0k3r & contributors
@homepageURL  https://github.com/style-it-themes/dark-github
@supportURL   https://github.com/style-it-themes/dark-github/issues
@updateURL    https://github.com/style-it-themes/dark-github/raw/main/dark-github.user.styl
@version      2.0.0
@license      MIT
@preprocessor stylus

@var checkbox show_gh_tab   'Show GitHub appearance tab  ' 0
@var select   cg_theme      'Base color-scheme toggle    ' {
    'Custom colors   *' :   'custom-style',
    'Cobalt           ' :   'cobalt',
    'Material         ' :   'material',
    'Material Darker  ' :   'material-dkr',
    'Twilight         ' :   'twilight',
    'Solarized Dark   ' :   'solarized-dark',
    'Ubuntu           ' :   'ubuntu',
}
@var color    cg_bg         'Custom background color     ' #111a22
@var color    cg_fg         'Custom foreground color     ' #f2f4ff
@var color    cg_ac         'Custom accent color         ' #4f74e3

@var range    cg_sat        'Saturation of RGB colors    ' [0, -50, 40, 0.01]
@var range    cg_lig        'Lightness of RGB colors     ' [0, -30, 30, 0.01]
@var range    cg_fg_sat     'Foreground color saturation ' [0, 0, 100, 0.1, '%']

@var number   tab_size      'Tab size                    ' [8, 2, 8, 2]

@var text     f_ui          'UI font                     ' ''font_name''
@var text     f_mono        'Monospace font              ' ''font_name''
@var text     b_hgwd        'Checkbox width/height       ' '.88rem'

@var checkbox custom_font   'Use custom font overrides   ' 0
@var checkbox c_scrollbars  'Custom scrollbar overrides  ' 1
@var checkbox navbar_sticky 'Navbar sticky position      ' 0
@var checkbox latest_commit 'Latest commit neutral colors' 1
@var checkbox readme_header 'Legacy readme header design ' 0
@var checkbox short_headers 'Use shorter headers         ' 0
@var checkbox chbx_a_header 'Fix checkbox alignments     ' 1
@var checkbox code_borders  'Add code/pre/oethr borders  ' 1

==/UserStyle== */
// Remove old browser prefixes.
vendors = official
t       = transparent
i       = !important

// Convert colors to HSLA format.
// NOTE: This is done just for consistency of generated colors.
to_hsla(input) {
    $h = {}
    $h.hue = unquote(split('deg', '%s' % ceil(hue(input), 2))[0])
    $h.saturation = ceil(saturation(input), 2)
    $h.lightness = ceil(lightness(input), 2)
    s('hsla(%s,%s,%s,1)', $h.hue, $h.saturation, $h.lightness)
}

// SVG-friendly colors mixin.
// NOTE: Compiler does not like HSLA format, so we convert back to HEX.
to_svg(input) {
    s('\%23%s', unquote(substr(s('%s', convert(input)), 1, 6)))
}

// Color mixin.
// All colors: `c: fg bd bg`
// Only border-color: `c: 0 bd`
c(x, y = 0, z = 0, xi = 1, yi = 1, zi = 1) {
    if x != 0 && x != '_' {            color: xi is 0 ? x : x i }
    if y != 0 && y != '_' {     border-color: yi is 0 ? y : y i }
    if z != 0 && z != '_' { background-color: zi is 0 ? z : z i }
}

// SVG colors.
g(x, y = 0, xi = 1, yi = 1) {
    if x != 0 && x != '_' {   fill: xi is 0 ? x : x i }
    if y != 0 && y != '_' { stroke: yi is 0 ? y : y i }
}

// Border radius mixin.
rad() { border-radius: arguments }

// Box-shadow mixin.
bs() { box-shadow: arguments }

// Color generator.
// NOTE: Fix the scope to avoid conflicts.
/{
    // Generator -> Color-schemes.
    ColorSchemes = {
        'custom-style'   : { BG:   cg_bg, FG:   cg_fg, AC:   cg_ac }
        'cobalt'         : { BG: #002240, FG: #d0d0d0, AC: #0088ff }
        'material'       : { BG: #263238, FG: #eeffff, AC: #82aaff }
        'material-dkr'   : { BG: #212121, FG: #eeffff, AC: #82aaff }
        'solarized-dark' : { BG: #002b36, FG: #fdf6e3, AC: #268bd2 }
        'twilight'       : { BG: #141414, FG: #f7f7f7, AC: #8f9d6a }
        'ubuntu'         : { BG: #2c071a, FG: #f2f1ef, AC: #ef7847 }
    }

    // Select active color-scheme.
    for color-scheme in ColorSchemes {
        if (color-scheme == cg_theme) {
            define('BG', ColorSchemes[color-scheme].BG, global)
            define('FG', ColorSchemes[color-scheme].FG, global)
            define('AC', ColorSchemes[color-scheme].AC, global)
        }
    }

    // Color values and hues.
    // NOTE: List with anonymous hashes.
    colors = (
        { key: bg, color:   BG } \
        { key: fg, color:   FG } \
        { key: v0, color:   AC } \
        { key: v1, hue:   0deg } \
        { key: v2, hue:  30deg } \
        { key: v3, hue:  60deg } \
        { key: v4, hue: 120deg } \
        { key: v5, hue: 180deg } \
        { key: v6, hue: 210deg } \
        { key: v7, hue: 270deg } \
        { key: v8, hue: 300deg } \
        { key: v9, hue:   0deg } \
    )

    // Alias colors.
    $bg = colors[0]
    $fg = colors[1]

    // Generate background colors.
    for num in 0..5 {
        $color = $bg.color
        if num == 1 {} // Skip base BG color.
        else if num == 0 { $color = darken($color, 10%) }
        else { $color = lighten($color, (num + 2) * num / 2%) }
        $color = to_hsla($color)

        $key = s('%s%s', $bg.key, num)
        $val = 'var(--%s-%s)' % (($bg.key) (num))
        define('$' + $key, $color, global)
        define('' + $key, $val, global)
    }

    // Generate foreground colors.
    for num in 0..5 {
        $color = $fg.color
        if num == 1 {} // Skip base FG color.
        else if num == 0 { $color = lighten($color, 10%) }
        else { $color = darken($color, (num + num / 1.25) * 5%) }

        $color = desaturate($color, cg_fg_sat)
        $color = to_hsla($color)

        $key = s('%s%s', $fg.key, num)
        $val = 'var(--%s-%s)' % (($fg.key) (num))
        define('$' + $key, $color, global)
        define('' + $key, $val, global)
    }

    // Generate all other colors.
    for c, i in colors[2..length(colors)] {
        $sel  = colors[i + 2]

        for num in 0..9 {
            // Case for accent colors.
            if ($sel.key == v0) {
                $color = darken($sel.color, (80% - ((num + num / 3) * 7.5)))
                $color = darken($sel.color, (100% - (num + 3) * 7.5))
                $color = lightness($color, lightness($color) + num)
            }

            // Case for gray colors.
            else if ($sel.key == v9) {
                $color = hsl($sel.hue, 0%, 50% + cg_lig)
                $color = darken($color, (100% - (num + 2) * 17))
            }

            // Case for RGB colors.
            else {
                $hue   = $sel.hue
                $color = hsl($hue, 60% + cg_sat, 60% + cg_lig)
                $color = darken($color, (100% - (num + 2) * 7.5))
                $color = lightness($color, lightness($color) + num)
            }

            // Convert to HSLA format.
            $color = to_hsla($color)

            $key = s('%s%s', $sel.key, num)
            $val = 'var(--%s-%s)' % (($sel.key) (num))
            define('$' + $key, $color, global)
            define(''  + $key, $val, global)
        }
    }
}

@-moz-document regexp('https?://((cli|gist|docs|support|graphql)\.)?github?.com(/.*)?'),
/*-----------*/regexp('https?://render\.githubusercontent?.com(/.*)?'),
/*-----------*/regexp('https?://vscode-auth\.github?.com(/.*)?'),
/*-----------*/regexp('https?://metrics.lecoq.io.*(/.*)?') {
    // Userstyle variables.
    // main userstyle section variables.
    :root:not(#crazy) {
        // Userstyle info.
        --note: 'Dark GitHub - v2.0.0'

        // Feat -> Custom monospace font.
        --f-mono: f_mono, SFMono-Regular, Consolas, Liberation Mono, Menlo, \
                Fira Code, monospace

        // Feat -> Custom user interface font.
        --f-ui: f_ui, -apple-system, BlinkMacSystemFont, Segoe UI, Helvetica, \
                Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji

        // Generate CSS color variables.
        colors = (bg fg v0 v1 v2 v3 v4 v5 v6 v7 v8 v9)
        for color in colors[0..1] {
            for tone in 0..5 {
                { '--%s-%s' % ((color) (tone)) }: $ + color + tone
            }
        }
        for color in colors[2..length(colors)] {
            for tone in 0..9 {
                { '--%s-%s' % ((color) (tone)) }: $ + color + tone
            }
        }

        shade = (dark(BG)) ? darken : lighten

        --v0-0: mix(shade(BG,  0%), AC, 90%)
        --v0-1: mix(shade(BG, 40%), AC, 80%)
        --v0-2: mix(shade(BG, 40%), AC, 70%)
        --v0-3: mix(shade(BG, 40%), AC, 60%)
        --v0-4: mix(shade(BG, 65%), AC, 50%)
        --v0-5: mix(shade(BG, 50%), AC, 40%)
        --v0-6: mix(shade(BG, 50%), AC, 30%)
        --v0-7: mix(shade(BG, 50%), AC, 20%)
        --v0-8: mix(shade(BG, 50%), AC, 10%)
        --v0-9: mix(shade(BG, 50%), AC, 0%)

        // Native CSS variables.
        --color-scale-black: v98 //#1b1f23;
        --color-scale-white: bg1 //#fff; e.g. https://github.com/VChet/StyleBase/find/master
        --color-scale-gray-0: v99
        --color-scale-gray-1: v98 //#f6f8fa;
        --color-scale-gray-2: v97 //#e1e4e8;
        --color-scale-gray-3: v96 //#d1d5da;
        --color-scale-gray-4: v95 //#959da5;
        --color-scale-gray-5: v94 //#6a737d;
        --color-scale-gray-6: v93 //#586069;
        --color-scale-gray-7: v92 //fg3 //#444d56;
        --color-scale-gray-8: v91 //#2f363d;
        --color-scale-gray-9: v90 //#24292e;
        --color-scale-blue-0: v69 //#f1f8ff;
        --color-scale-blue-1: v68 //#dbedff;
        --color-scale-blue-2: v67 //#c8e1ff;
        --color-scale-blue-3: v66 //#79b8ff;
        --color-scale-blue-4: v65 //#2188ff;
        --color-scale-blue-5: v64 //#0366d6;
        --color-scale-blue-6: v63 //#005cc5;
        --color-scale-blue-7: v62 //#044289;
        --color-scale-blue-8: v61 //#032f62;
        --color-scale-blue-9: v60 //#05264c;
        --color-scale-green-0: v40 //#f0fff4;
        --color-scale-green-1: v41 //#dcffe4;
        --color-scale-green-2: v42 //#bef5cb;
        --color-scale-green-3: v43 //#85e89d;
        --color-scale-green-4: v44 //#34d058;
        --color-scale-green-5: v45 //#28a745;
        --color-scale-green-6: v46 //#22863a;
        --color-scale-green-7: v47 //#176f2c;
        --color-scale-green-8: v48 //#165c26;
        --color-scale-green-9: v49 //#144620;
        --color-scale-yellow-0: v30 //#fffdef;
        --color-scale-yellow-1: v31 //#fffbdd;
        --color-scale-yellow-2: v32 //#fff5b1;
        --color-scale-yellow-3: v33 //#ffea7f;
        --color-scale-yellow-4: v34 //#ffdf5d;
        --color-scale-yellow-5: v35 //#ffd33d;
        --color-scale-yellow-6: v36 //#f9c513;
        --color-scale-yellow-7: v37 //#dbab09;
        --color-scale-yellow-8: v38 //#b08800;
        --color-scale-yellow-9: v39 //#735c0f;
        --color-scale-orange-0: v20 //#fff8f2;
        --color-scale-orange-1: v21 //#ffebda;
        --color-scale-orange-2: v22 //#ffd1ac;
        --color-scale-orange-3: v23 //#ffab70;
        --color-scale-orange-4: v24 //#fb8532;
        --color-scale-orange-5: v25 //#f66a0a;
        --color-scale-orange-6: v26 //#e36209;
        --color-scale-orange-7: v27 //#d15704;
        --color-scale-orange-8: v28 //#c24e00;
        --color-scale-orange-9: v29 //#a04100;
        --color-scale-red-0: v10 //#ffeef0;
        --color-scale-red-1: v11 //#ffdce0;
        --color-scale-red-2: v12 //#fdaeb7;
        --color-scale-red-3: v13 //#f97583;
        --color-scale-red-4: v14 //#ea4a5a;
        --color-scale-red-5: v15 //#d73a49;
        --color-scale-red-6: v16 //#cb2431;
        --color-scale-red-7: v17 //#b31d28;
        --color-scale-red-8: v18 //#9e1c23;
        --color-scale-red-9: v19 //#86181d;
        --color-scale-purple-0: v70 //#f5f0ff;
        --color-scale-purple-1: v71 //#e6dcfd;
        --color-scale-purple-2: v72 //#d1bcf9;
        --color-scale-purple-3: v73 //#b392f0;
        --color-scale-purple-4: v74 //#8a63d2;
        --color-scale-purple-5: v75 //#6f42c1;
        --color-scale-purple-6: v76 //#5a32a3;
        --color-scale-purple-7: v77 //#4c2889;
        --color-scale-purple-8: v78 //#3a1d6e;
        --color-scale-purple-9: v79 //#29134e;
        --color-scale-pink-0: v80 //#ffeef8;
        --color-scale-pink-1: v81 //#fedbf0;
        --color-scale-pink-2: v82 //#f9b3dd;
        --color-scale-pink-3: v83 //#f692ce;
        --color-scale-pink-4: v84 //#ec6cb9;
        --color-scale-pink-5: v85 //#ea4aaa;
        --color-scale-pink-6: v86 //#d03592;
        --color-scale-pink-7: v87 //#b93a86;
        --color-scale-pink-8: v88 //#99306f;
        --color-scale-pink-9: v89 //#6d224f;
        --color-auto-black: v99 //#1b1f23;
        --color-auto-white: bg0 //#fff;
        --color-auto-gray-0: v90 //bg5 //#fafbfc;
        --color-auto-gray-1: v91 //bg3 //#f6f8fa; fix verified badge arrow clr
        --color-auto-gray-2: v92 //bg4 //#e1e4e8;
        --color-auto-gray-3: v93 //bg4 //#d1d5da;
        --color-auto-gray-4: v94 //fg5 //#959da5;
        --color-auto-gray-5: v95 //fg5 //#6a737d;
        --color-auto-gray-6: v96 //fg3 //#586069;
        --color-auto-gray-7: v97 //fg3 //#444d56;
        --color-auto-gray-8: v98 //bg1 //#2f363d;
        --color-auto-gray-9: v99 //fg4 //#24292e;
        --color-auto-blue-0: v60 //#f1f8ff;
        --color-auto-blue-1: v61 //#dbedff;
        --color-auto-blue-2: v62 //#c8e1ff;
        --color-auto-blue-3: v63 //#79b8ff;
        --color-auto-blue-4: v64 //#2188ff;
        --color-auto-blue-5: v65 //#0366d6;
        --color-auto-blue-6: v66 //#005cc5;
        --color-auto-blue-7: v67 //#044289;
        --color-auto-blue-8: v68 //#032f62;
        --color-auto-blue-9: v69 //#05264c;
        --color-auto-green-0: v40 //#f0fff4;
        --color-auto-green-1: v41 //#dcffe4;
        --color-auto-green-2: v42 //#bef5cb;
        --color-auto-green-3: v43 //#85e89d;
        --color-auto-green-4: v44 //#34d058;
        --color-auto-green-5: v45 //#28a745;
        --color-auto-green-6: v46 //#22863a;
        --color-auto-green-7: v47 //#176f2c;
        --color-auto-green-8: v48 //#165c26;
        --color-auto-green-9: v49 //#144620;
        --color-auto-yellow-0: v30 //#fffdef;
        --color-auto-yellow-1: v31 //#fffbdd;
        --color-auto-yellow-2: v32 //#fff5b1;
        --color-auto-yellow-3: v33 //#ffea7f;
        --color-auto-yellow-4: v34 //#ffdf5d;
        --color-auto-yellow-5: v35 //#ffd33d;
        --color-auto-yellow-6: v36 //#f9c513;
        --color-auto-yellow-7: v37 //#dbab09;
        --color-auto-yellow-8: v38 //#b08800;
        --color-auto-yellow-9: v39 //#735c0f;
        --color-auto-orange-0: v20 //#271000 //#fff8f2;
        --color-auto-orange-1: v21 //#ffebda;
        --color-auto-orange-2: v22 //#ffd1ac;
        --color-auto-orange-3: v23 //#ffab70;
        --color-auto-orange-4: v24 //#fb8532;
        --color-auto-orange-5: v25 //#f66a0a;
        --color-auto-orange-6: v26 //#e36209;
        --color-auto-orange-7: v27 //#d15704;
        --color-auto-orange-8: v28 //#c24e00;
        --color-auto-orange-9: v29 //#a04100;
        --color-auto-red-0: v10 //#ffeef0;
        --color-auto-red-1: v11 //#ffdce0;
        --color-auto-red-2: v12 //#fdaeb7;
        --color-auto-red-3: v13 //#f97583;
        --color-auto-red-4: v14 //#ea4a5a;
        --color-auto-red-5: v15 //#d73a49;
        --color-auto-red-6: v16 //#cb2431;
        --color-auto-red-7: v17 //#b31d28;
        --color-auto-red-8: v18 //#9e1c23;
        --color-auto-red-9: v19 //#86181d;
        --color-auto-purple-0: v70 //#f5f0ff;
        --color-auto-purple-1: v71 //#e6dcfd;
        --color-auto-purple-2: v72 //#d1bcf9;
        --color-auto-purple-3: v73 //#b392f0;
        --color-auto-purple-4: v74 //#8a63d2;
        --color-auto-purple-5: v75 //#6f42c1;
        --color-auto-purple-6: v76 //#5a32a3;
        --color-auto-purple-7: v77 //#4c2889;
        --color-auto-purple-8: v78 //#3a1d6e;
        --color-auto-purple-9: v79 //#29134e;
        --color-auto-pink-0: v80 //#ffeef8;
        --color-auto-pink-1: v81 //#fedbf0;
        --color-auto-pink-2: v82 //#f9b3dd;
        --color-auto-pink-3: v83 //#f692ce;
        --color-auto-pink-4: v84 //#ec6cb9;
        --color-auto-pink-5: v85 //#ea4aaa;
        --color-auto-pink-6: v86 //#d03592;
        --color-auto-pink-7: v87 //#b93a86;
        --color-auto-pink-8: v88 //#99306f;
        --color-auto-pink-9: v80 //#6d224f;

        --color-text-primary: v98 //#24292e;
        --color-text-secondary: v97 //#586069;
        --color-text-tertiary: v95 //#6a737d;
        --color-text-placeholder: v95 //#6a737d;
        --color-text-disabled: v93 //#6a737d;
        --color-text-inverse: v99 //#fff;
        --color-text-link: v09 //#0366d6;
        --color-text-danger: v16 //#cb2431;
        --color-text-success: v45 //#22863a;
        --color-text-warning: v36 //#b08800;
        --color-text-white: v99 //#fff;

        --color-icon-primary: v98 //#24292e;
        --color-icon-secondary: v97 //#586069;
        --color-icon-tertiary: v95 //#959da5;
        --color-icon-info: v65 //#0366d6;
        --color-icon-danger: v16 //#d73a49;
        --color-icon-success: v45 //#22863a;
        --color-icon-warning: v35 //#b08800;

        --color-state-hover-primary-bg: v02 //#0366d6;
        --color-state-hover-primary-border: v06 //#0366d6; appearance theme selection active border
        --color-state-hover-primary-text: v99s
        --color-state-hover-primary-icon: v99
        --color-state-hover-secondary-bg: bg3 //#f6f8fa;
        --color-state-hover-secondary-border: bg5 //#f6f8fa;
        --color-state-selected-primary-bg: v04 //#0366d6;
        --color-state-selected-primary-border: v04 //#0366d6;
        --color-state-selected-primary-text: v99
        --color-state-selected-primary-icon: v99
        --color-state-focus-border: v04 //#0366d6;
        --color-state-focus-shadow: 0 0 0 3px rgba(convert($v05), .4)//rgba(3,102,214,0.3);

        --color-fade-fg-10: rgba(BG, .1)
        --color-fade-fg-15: rgba(BG, .15)
        --color-fade-fg-30: rgba(BG, .3)
        --color-fade-fg-50: rgba(BG, .5)
        --color-fade-fg-70: rgba(BG, .7)
        --color-fade-fg-85: rgba(BG, .85)

        --color-border-primary: bg5 //#e1e4e8;
        --color-border-secondary: bg3 //#eaecef;
        --color-border-tertiary: bg4 //#d1d5da;
        --color-border-overlay: bg5 //#e1e4e8
        --color-border-inverse: bg1 //#fff;
        --color-border-info: v63 //#0366d6;
        --color-border-danger: v13 //#d73a49;
        --color-border-success: v43 //#34d058;
        --color-border-warning: v33 //#f9c513;

        --color-bg-canvas: bg0 //#fff;            Main elements -> body
        --color-bg-canvas-mobile: bg0 //#fff;
        --color-bg-canvas-inverse: bg3 //#24292e; Navbar
        --color-bg-canvas-inset: bg0 //#f6f8fa;   Dashboard inset
        --color-bg-primary: bg1 //#fff;           Sidebar
        --color-bg-secondary: bg2 //#fafbfc;      Navigation/notices
        --color-bg-tertiary: bg3 //#f6f8fa;       Background
        --color-bg-overlay: bg1 //#fff;
        --color-bg-backdrop: rgba(BG, .5)
        --color-bg-info: v01 //#f1f8ff;
        --color-bg-info-inverse: v06
        --color-bg-danger: v11 //#ffeef0;
        --color-bg-danger-inverse: v16 //#d73a49;
        --color-bg-success: v41 //#dcffe4;
        --color-bg-success-inverse: v44
        --color-bg-warning: v31 //#fff5b1;
        --color-bg-warning-inverse: v35 //#ffd33d;
        --color-bg-discussions-row-emoji-box: bg4 // Discussions

        --color-shadow-small: 0 1px 0 #0002 //rgba(27,31,35,0.04);
        --color-shadow-medium: 0 3px 6px #0003 //rgba(149,157,165,0.15);
        --color-shadow-large: 0 8px 15px #0004 //rgba(149,157,165,0.2);
        --color-shadow-extra-large: 0 10px 20px #0003;
        --color-shadow-highlight: inset 0 1px 0 #0002 //hsla(0,0%,100%,0.25);
        --color-shadow-inset: inset 0 1px 0 #0002 //rgba(225,228,232,0.2);
        --color-shadow-focus: 0 0 0 3px v01;

        --color-fade-black-10: #ffffff10 //#1b1f231a;
        --color-fade-black-15: #ffffff20 //#1b1f2326;
        --color-fade-black-30: #ffffff30 //#1b1f234d;
        --color-fade-black-50: #ffffff50 //#1b1f2380;
        --color-fade-black-70: #ffffff90 //#1b1f23b3;
        --color-fade-black-85: #ffffff85 //#1b1f23d9;
        --color-fade-white-10: #ffffff1a;
        --color-fade-white-15: #ffffff26;
        --color-fade-white-30: #ffffff4d;
        --color-fade-white-50: #ffffff80;
        --color-fade-white-70: #ffffffb3;
        --color-fade-white-85: #ffffffd9;

        --color-alert-info-text: v98 //#24292e;
        --color-alert-info-icon: v65 //rgba(4,66,137,0.6);
        --color-alert-info-bg: v61 //#dbedff;
        --color-alert-info-border: v64 //rgba(4,66,137,0.2);
        --color-alert-warn-text: v98 //#24292e;
        --color-alert-warn-icon: v35 //#b08800;
        --color-alert-warn-bg: v30 //#fffbdd;
        --color-alert-warn-border: v34 //rgba(176,136,0,0.2);
        --color-alert-error-text: v98 //#24292e;
        --color-alert-error-icon: v16 //rgba(158,28,35,0.6);
        --color-alert-error-bg: v11 //#ffe3e6;
        --color-alert-error-border: v14 //rgba(158,28,35,0.2);
        --color-alert-success-text: v98 //#24292e;
        --color-alert-success-icon: v44 //rgba(23,111,44,0.8);
        --color-alert-success-bg: v40 //#dcffe4;
        --color-alert-success-border: v42 //rgba(23,111,44,0.2);

        --color-autocomplete-bg: bg3 //#fff;
        --color-autocomplete-border: bg5 //#e1e4e8;
        --color-autocomplete-row-border: bg4 //#eaecef;
        --color-autocomplete-shadow: 0 3px 6px #0002 //rgba(149,157,165,0.15);
        --color-blankslate-icon: v95 //#a3aab1;

        --color-btn-text: v98 //#24292e;
        --color-btn-bg: bg2 //#fafbfc;
        --color-btn-border: bg5 //rgba(27,31,35,0.15);
        --color-btn-shadow: 0 1px 0 #00000010 //rgba(27,31,35,0.04);
        --color-btn-inset-shadow: inset 0 1px 0 #00000010 //hsla(0,0%,100%,0.25);
        --color-btn-hover-bg: bg3 //#f3f4f6;
        --color-btn-hover-border: bg5 //rgba(27,31,35,0.15);
        --color-btn-selected-bg: bg4 //#edeff2;
        --color-btn-focus-bg: bg4 //#fafbfc;
        --color-btn-focus-border: bg5 //rgba(27,31,35,0.15);
        --color-btn-focus-shadow: 0 0 0 3px rgba(convert($v05), .4) //rgba(3,102,214,0.3);
        --color-btn-shadow-active: inset 0 0.15em 0.3em #00000010 //rgba(27,31,35,0.15);
        --color-btn-shadow-input-focus: 0 0 0 0.2em v01 //rgba(3,102,214,0.3);

        --color-btn-primary-text: v99 //#fff;
        --color-btn-primary-bg: v43 //#2ea44f;
        --color-btn-primary-border: v45 //rgba(27,31,35,0.15);
        --color-btn-primary-shadow: 0 1px 0 rgba(BG, 0.1)
        --color-btn-primary-inset-shadow: inset 0 1px 0 rgba(FG, .03)
        --color-btn-primary-hover-bg: v44 //#2c974b;
        --color-btn-primary-hover-border: v45 //rgba(27,31,35,0.15);
        --color-btn-primary-selected-bg: v44 //#2a8f47;
        --color-btn-primary-selected-shadow: inset 0 1px 0 rgba(20,70,32, 0.2);
        --color-btn-primary-disabled-text: v93 //hsla(0,0%,100%,0.8);
        --color-btn-primary-disabled-bg: v40 //#94d3a2;
        --color-btn-primary-disabled-border: v41 //rgba(27,31,35,0.1);
        --color-btn-primary-focus-bg: v43 //#2ea44f;
        --color-btn-primary-focus-border: v45 //rgba(27,31,35,0.15);
        --color-btn-primary-focus-shadow: 0 0 0 3px v41 //rgba(46,164,79,0.4);
        --color-btn-primary-icon: rgba(FG, .8)
        --color-btn-primary-counter-bg: rgba(FG, .2)

        --color-btn-outline-text: v06 //#0366d6;
        --color-btn-outline-hover-text: v98
        --color-btn-outline-hover-bg: v04 //#0366d6;
        --color-btn-outline-hover-border: v04 //rgba(27,31,35,0.15);
        --color-btn-outline-hover-shadow: 0 1px 0 v01;
        --color-btn-outline-hover-inset-shadow: solid 0 1px 0 v01;
        --color-btn-outline-hover-counter-bg: rgba(FG, .2);
        --color-btn-outline-selected-text: v99
        --color-btn-outline-selected-bg: v04 //#035fc7;
        --color-btn-outline-selected-border: v06 //rgba(27,31,35,0.15);
        --color-btn-outline-selected-shadow: inset 0 1px 0  rgba(AC, .2) //rgba(5,38,76, .2);
        --color-btn-outline-disabled-text: rgba(AC, .4) //rgba(3,102,214,0.5);
        --color-btn-outline-disabled-bg: bg2 //#fafbfc;
        --color-btn-outline-disabled-counter-bg:  rgba(AC, .04) //rgba(3,102,214, .05);
        --color-btn-outline-focus-border: v02 //rgba(27,31,35,0.15);
        --color-btn-outline-focus-shadow: 0 0 0 3px v01 //rgba(0,92,197,0.4);
        --color-btn-outline-counter-bg: rgba(AC, .1) //rgba(3,102,214, .1);

        --color-btn-danger-text: v16 //#d73a49;
        --color-btn-danger-hover-text: v99
        --color-btn-danger-hover-bg: v12 //#cb2431;
        --color-btn-danger-hover-border: v12 //rgba(27,31,35,0.15);
        --color-btn-danger-hover-shadow: 0 1px 0 rgba(27,31,35,0.1);
        --color-btn-danger-hover-inset-shadow: inset 0 1px 0 hsla(0,0%,100%,0.03);
        --color-btn-danger-hover-counter-bg: hsla(0,0%,100%,0.2);
        --color-btn-danger-selected-text: v99
        --color-btn-danger-selected-bg: v12 //#d42d3d;
        --color-btn-danger-selected-border: v14 //rgba(27,31,35,0.15);
        --color-btn-danger-selected-shadow: inset 0 1px 0 rgba(convert($v15), .2)
        --color-btn-danger-disabled-text: v12 //rgba(215,58,73,0.5);
        --color-btn-danger-disabled-bg: bg1 //#fafbfc;
        --color-btn-danger-disabled-counter-bg: rgba(convert($v17), .05) //rgba(215,58,73,0.05)
        --color-btn-danger-focus-border: v15 //rgba(27,31,35,0.15);
        --color-btn-danger-focus-shadow: 0 0 0 3px v11 //rgba(203,36,49,0.4);
        --color-btn-danger-counter-bg: rgba(215,58,73,0.1);
        --color-btn-danger-icon: v16 //#d73a49;
        --color-btn-danger-hover-icon: v99 //#fff;

        --color-btn-counter-bg: rgba(BG, .078)
        --color-counter-text: v98 //#24292e;
        --color-counter-bg: bg5 //#d1d5da80;
        --color-counter-border: rgba(FG, .502)
        --color-topic-tag-text: v09 //#0366d6;
        --color-topic-tag-bg: v01 //#f1f8ff;
        --color-topic-tag-hover-bg: v02 //#def;
        --color-topic-tag-active-bg: v02 //#e7f3ff;

        --color-merge-box-success-icon-bg: v43
        --color-merge-box-success-icon-text: v99 //#fff;
        --color-merge-box-success-icon-border: t
        --color-merge-box-success-indicator-bg: v43
        --color-merge-box-success-indicator-border: t
        --color-merge-box-merged-icon-bg: v75 //#6f42c1;
        --color-merge-box-merged-icon-text: v99 //#fff;
        --color-merge-box-merged-icon-border: t
        --color-merge-box-merged-box-border: v75 //#6f42c1;
        --color-merge-box-neutral-icon-bg: bg5 //#6a737d;
        --color-merge-box-neutral-icon-text: v99 //#fff;
        --color-merge-box-neutral-icon-border: t
        --color-merge-box-neutral-indicator-bg: bg5 //#6a737d;
        --color-merge-box-neutral-indicator-border: t
        --color-merge-box-warning-icon-bg: v33 //#dbab09;
        --color-merge-box-warning-icon-text: v99 //#fff;
        --color-merge-box-warning-icon-border: t
        --color-merge-box-warning-box-border: v33 //#ffd33d;
        --color-merge-box-warning-merge-highlight: t
        --color-merge-box-error-icon-bg: v11 //#d73a49;
        --color-merge-box-error-icon-text: v99 //#fff;
        --color-merge-box-error-icon-border: t
        --color-merge-box-error-indicator-bg: v16 //#d73a49;
        --color-merge-box-error-indicator-border: t

        --color-marketing-icon-primary: v97 //#2188ff;
        --color-marketing-icon-secondary: v94 //#79b8ff;

        --color-checks-donut-neutral: bg5
        --color-checks-donut-error: v16
        --color-checks-donut-pending: v35
        --color-checks-donut-success: v44

        --color-project-card-bg: bg1 //#fff;
        --color-project-header-bg: bg2 //#24292e;
        --color-project-sidebar-bg: bg2 //#fff;
        --color-project-gradient-in: bg2 //#fff;
        --color-project-gradient-out: t

        --color-intro-shelf-gradient-left: #f1f8ff
        --color-intro-shelf-gradient-right: #dcffe4
        --color-intro-shelf-gradient-in: #fff
        --color-intro-shelf-gradient-out: hsla(0, 0%, 100%, 0)

        --color-input-bg: bg0 //#fff;
        --color-input-contrast-bg: bg2 //#fafbfc;
        --color-input-border: bg5 //#e1e4e8;
        --color-input-shadow: inset 0 1px 2px rgba(BG, .075)
        --color-input-disabled-bg: bg1 //#fff;
        --color-input-disabled-border: bg3 //#e1e4e8;
        --color-input-warning-border: v30 //#f9c513;
        --color-input-error-border: v10 //#cb2431;

        --color-input-tooltip-success-text: v46//#144620;
        --color-input-tooltip-success-bg: v40 //#dcffe4;
        --color-input-tooltip-success-border: v42 //#34d058;
        --color-input-tooltip-warning-text: v34 //#735c0f;
        --color-input-tooltip-warning-bg: v30 //#fff5b1;
        --color-input-tooltip-warning-border: v34 //#f9c513;
        --color-input-tooltip-error-text: v17 //#86181d;
        --color-input-tooltip-error-bg: v10 //#ffeef0;
        --color-input-tooltip-error-border: v13 //#f97583;

        --color-avatar-bg: v95 //#fff;
        --color-avatar-border: #1b1f231a;
        --color-avatar-stack-fade: #d1d5da;
        --color-avatar-stack-fade-more: #e1e4e8;
        --color-avatar-child-shadow: -2px -2px 0 rgba(BG, .8)

        --color-toast-text: v98 //#24292e;
        --color-toast-bg: bg2 //#fff;
        --color-toast-border: bg4 //#e1e4e8;
        --color-toast-shadow: 0 8px 24px rgba(convert($v99), .2)
        --color-toast-icon: v99 //#fff;
        --color-toast-icon-bg: v65 //#0366d6;
        --color-toast-icon-border: t;
        --color-toast-success-text: v98//#24292e;
        --color-toast-success-border: bg4 //#e1e4e8;
        --color-toast-success-icon: v99 //#fff;
        --color-toast-success-icon-bg: v43;
        --color-toast-success-icon-border: t;
        --color-toast-warning-text: v98 //#24292e;
        --color-toast-warning-border: bg4 //#e1e4e8;
        --color-toast-warning-icon: v98 //#24292e;
        --color-toast-warning-icon-bg: v33 //#ffd33d;
        --color-toast-warning-icon-border: t;
        --color-toast-danger-text: v98 //#24292e;
        --color-toast-danger-border: bg4 //#e1e4e8;
        --color-toast-danger-icon: v98 //#fff;
        --color-toast-danger-icon-bg: v16 //#d73a49;
        --color-toast-danger-icon-border: t;
        --color-toast-loading-text: v98 //#24292e;
        --color-toast-loading-border: bg4 //#e1e4e8;
        --color-toast-loading-icon: v98 //#fff;
        --color-toast-loading-icon-bg: bg5 //#586069;
        --color-toast-loading-icon-border: t;

        --color-timeline-text: v96 //#444d56;
        --color-timeline-badge-bg: bg3 //#e1e4e8;
        --color-timeline-target-badge-border: v04 //#2188ff;
        --color-timeline-target-badge-shadow: v01 //#c8e1ff;

        --color-select-menu-bg: bg2 //#fff;
        --color-select-menu-border: bg5 //#e1e4e8;
        --color-select-menu-border-secondary: bg4 //#eaecef;
        --color-select-menu-shadow: 0 0 18px rgba(BG, .4)
        --color-select-menu-backdrop-bg: rgba(BG, .5)
        --color-select-menu-backdrop-border: t
        --color-select-menu-tap-highlight: rgba(BG, .5)
        --color-select-menu-tap-focus-bg: v61 //#dbedff;

        --color-box-blue-border: v64 //#c8e1ff;
        --color-box-row-yellow-bg: v31 //#fffbdd;
        --color-box-row-blue-bg: v01 //#f1f8ff;
        --color-box-header-blue-bg: v01 //#f1f8ff;
        --color-box-header-blue-border: v02 //#c8e1ff;
        --color-box-border-info: v05 //rgba(3,102,214,0.2);
        --color-box-bg-info: v02 //#f1f8ff;
        --color-box-border-warning: v34 //rgba(255,211,61,0.4);
        --color-box-bg-warning: v31 //#fffdef;

        --color-dropdown-bg: bg1 //#fff;
        --color-dropdown-border: bg5 //#e1e4e8;
        --color-dropdown-shadow: 0 8px 24px rgba(BG, .2) //rgba(149,157,165,0.2);

        --color-label-border: bg4 //#e1e4e8;
        --color-label-primary-text: v98 //#24292e;
        --color-label-primary-border: bg1 //#6a737d;
        --color-label-secondary-text: v97 //#586069;
        --color-label-secondary-border: bg2 //#e1e4e8;
        --color-label-info-text: v65 //#0366d6;
        --color-label-info-border: v65 //#0366d6;
        --color-label-success-text: v45 //#22863a;
        --color-label-success-border: v43;
        --color-label-warning-text: v34 //#735c0f;
        --color-label-warning-border: v34 // #b08800;
        --color-label-danger-text: v16 //#d73a49;
        --color-label-danger-border: v16 //#cb2431;
        --color-label-orange-text: v25 //#c24e00;
        --color-label-orange-border: v25 //#f66a0a;

        --color-counter-primary-bg: bg5 //#6a737d;
        --color-counter-primary-text: v98 //#fff;
        --color-counter-secondary-text: v97 //#6a737d;

        --color-popover-border: bg5 //#1b1f2326;

        --color-branch-name-text: v09 //#1b1f2399;
        --color-branch-name-icon: v96 //#a8bbd0;
        --color-branch-name-bg: bg3 //#eaf5ff;
        --color-branch-name-link-text: v09 //#0366d6;
        --color-branch-name-link-icon: v96 //#a8bbd0;
        --color-branch-name-link-bg: bg3 //#eaf5ff;

        --color-markdown-code-bg: bg2 //#1b1f230d;
        --color-markdown-frame-border: bg4 //#dfe2e5;
        --color-markdown-blockquote-border: bg4 //#dfe2e5;
        --color-markdown-table-border: bg5 //#dfe2e5;
        --color-markdown-table-tr-border: bg4 //#c6cbd1;

        --color-menu-heading-text: v98 //#24292e;
        --color-menu-border-active: v09 //#f9826c;
        --color-menu-bg-active: bg3
        --color-sidenav-selected-bg: bg1 //#fff;
        --color-sidenav-border-active: v09 //#f9826c;
        --color-tabnav-selected-bg: bg1 //#fff;
        --color-header-text: v97 //#ffffffb3;
        --color-header-bg: bg3 //#24292e;
        --color-header-logo: v98 //#fff;
        --color-filter-item-bar-bg: bg2 //#eff3f6;
        --color-hidden-text-expander-bg: rgba(BG, .126) //#dfe2e5;
        --color-hidden-text-expander-bg-hover: rgba(convert($bg5), .6) //#c6cbd1;
        --color-drag-and-drop-border: rgba(convert($v68), .4) //#c3c8cf;
        --color-upload-enabled-border: bg5 //#dfe2e5;
        --color-upload-enabled-border-focused: v04 //#4a9eff;
        --color-previewable-comment-form-border: rgba(convert($v68), .4) //#c3c8cf;
        --color-previewable-comment-form-bg: t //#fff; @upstream

        --color-underlinenav-border: rgba(209,213,218,0);
        --color-underlinenav-border-hover: bg5 //#d1d5da;
        --color-underlinenav-border-active: v09 //#f9826c;
        --color-underlinenav-text: v96 //#24292e;
        --color-underlinenav-text-hover: v98 //#24292e;
        --color-underlinenav-text-active: v99 //#24292e;
        --color-underlinenav-icon: v96 //#959da5;
        --color-underlinenav-icon-hover: v98 //#959da5;
        --color-underlinenav-icon-active: v99 //#24292e;
        --color-underlinenav-counter-text: v98 //#24292e;

        --color-verified-badge-text: v45 //#22863a;
        --color-verified-badge-bg: bg2 //#fff;
        --color-verified-badge-border: bg5 //#e1e4e8;

        --color-social-count-bg: bg3 //#fff;
        --color-header-search-bg: bg4 //#24292e;
        --color-header-search-border: bg5 //#444d56;
        --color-search-keyword-hl: bg5 //rgba(187,128,9,0.4);
        --color-tooltip-text: v99 //#fff;
        --color-tooltip-bg: bg1 //#24292e;

        --color-files-explorer-icon: v04 //#79b8ff;

        --color-icon-folder: v06 //#79b8ff;
        --color-hl-author-bg: bg1 //#f1f8ff;
        --color-hl-author-border bg4 //#c8e1ff;
        --color-logo-subdued: v95 //#d1d5da;
        --color-discussion-border: v45 //#a2cbac;
        --color-discussion-bg-success: v43;

        --color-actions-workflow-table-sticky-bg: hsla(0,0%,100%,0.95);
        --color-workflow-card-connector-highlight-bg: v09
        --color-workflow-card-connector-highlight: v09
        --color-workflow-card-connector-inactive: v94
        --color-repo-language-color-border: rgba(27,31,35,0.1);

        --color-global-nav-logo: v98 //#fff;
        --color-global-nav-bg: bg1 //#24292e;
        --color-global-nav-text: v98 //#fff;
        --color-global-nav-icon: v98 //#fff;
        --color-global-nav-input-bg: bg1 //#fafbfc;
        --color-global-nav-input-border: bg3 //#fafbfc;
        --color-global-nav-input-icon: v97 //#d1d5da;
        --color-global-nav-input-placeholder: v95 //#959da5;

        --color-calendar-graph-day-bg: bg1 //#ebedf0;
        --color-calendar-graph-day-border: rgba(BG, .145) //#1b1f230f;
        --color-calendar-graph-day-L1-bg: v02 //#9be9a8;
        --color-calendar-graph-day-L2-bg: v04 //#40c463;
        --color-calendar-graph-day-L3-bg: v06 //#30a14e;
        --color-calendar-graph-day-L4-bg: v08 //#216e39;
        --color-calendar-graph-day-L4-border: rgba(BG, .145) //#1b1f230f;
        --color-calendar-graph-day-L3-border: rgba(BG, .145) //#1b1f230f;
        --color-calendar-graph-day-L2-border: rgba(BG, .145) //#1b1f230f;
        --color-calendar-graph-day-L1-border: rgba(BG, .145) //#1b1f230f;
        --color-calendar-halloween-graph-day-L1-bg: v29 //#ffee4a;
        --color-calendar-halloween-graph-day-L2-bg: v26 //#ffc501;
        --color-calendar-halloween-graph-day-L3-bg: v23 //#fe9600;
        --color-calendar-halloween-graph-day-L4-bg: v20 //#03001c;

        --color-footer-invertocat-octicon: v94 //#d1d5da;
        --color-footer-invertocat-octicon-hover: v97 //#6a737d;

        --color-pr-state-draft-text: v99
        --color-pr-state-draft-bg: bg5 //#6a737d;
        --color-pr-state-draft-border: t;
        --color-pr-state-open-text: v99
        --color-pr-state-open-bg: v43 //#28a745;
        --color-pr-state-open-border: t;
        --color-pr-state-merged-text: v99
        --color-pr-state-merged-bg: v75 //#6f42c1;
        --color-pr-state-merged-border: t;
        --color-pr-state-closed-text: v99
        --color-pr-state-closed-bg: v16 //#d73a49;
        --color-pr-state-closed-border: t;

        --color-blob-line-highlight-bg: v30 //#fffbdd;
        --color-blob-line-highlight-border: t // transparent;
        // Diffs
        --color-diffstat-neutral-bg: bg5 //#d1d5da;
        --color-diffstat-neutral-border: bg5 //#d1d5da;
        --color-diffstat-deletion-bg: v16 //#d73a49;
        --color-diffstat-deletion-border: v16 //#d73a49;
        --color-diffstat-addition-bg: v46 //#28a745;
        --color-diffstat-addition-border: v46 //#28a745;

        --color-diff-addition-text: v98 //#22863a; fix e.g. md diff
        --color-diff-addition-bg: v45 //#e6ffed;
        --color-diff-addition-border: v45 //#34d058;

        --color-diff-deletion-text: v98 //#cb2431; fix e.g. md diff
        --color-diff-deletion-bg: v16 //#ffeef0;
        --color-diff-deletion-border: v16 //#d73a49;

        --color-diff-change-text: v98 //#b08800; fix e.g. md diff
        --color-diff-change-bg: v20 //#fff5b1;
        --color-diff-change-border: v25 //#f9c513;

        --color-diff-blob-num-text: v96 //rgba(27,31,35,0.3);
        --color-diff-blob-num-hover-text: v98 //rgba(27,31,35,0.6);

        --color-diff-blob-addition-num-bg: v41 //#cdffd8;
        --color-diff-blob-addition-num-text: v96 //rgba(27,31,35,0.3);
        --color-diff-blob-addition-num-hover-text: v98 //rgba(27,31,35,0.6);
        --color-diff-blob-addition-line-bg: rgba(convert($v41), .6) //#e6ffed;
        --color-diff-blob-addition-word-bg: v42 //#acf2bd;

        --color-diff-blob-deletion-num-bg: v12 //#ffdce0;
        --color-diff-blob-deletion-num-text: v96 //rgba(27,31,35,0.3);
        --color-diff-blob-deletion-num-hover-text: v98 //rgba(27,31,35,0.6);
        --color-diff-blob-deletion-line-bg: rgba(convert($v11), .8) //#ffeef0;
        --color-diff-blob-deletion-word-bg: v12 //#fdb8c0;

        --color-diff-blob-hunk-text: v96 //rgba(27,31,35,0.7);
        --color-diff-blob-hunk-num-bg: bg4 //#dbedff;
        --color-diff-blob-hunk-line-bg: bg3 //#f1f8ff;

        --color-diff-blob-empty-block-bg: bg2 //#fafbfc;
        --color-diff-blob-selected-line-highlight-bg: rgba(BG, 0.5) //rgba(255,223,93,0.2);
        --color-diff-blob-selected-line-highlight-border: v35 //#ffd33d;
        --color-diff-blob-selected-line-highlight-mix-blend-mode: screen;
        --color-diff-blob-expander-icon: v96 //#586069;
        --color-diff-blob-expander-hover-icon: v99 //#fff;
        --color-diff-blob-expander-hover-bg: v04 //#0366d6;
        --color-diff-blob-comment-button-icon: v99 //#fff;
        --color-diff-blob-comment-button-bg: v08 //#0366d6;
        --color-diff-blob-comment-button-gradient-bg: v06 //#0372ef;
        // Syntax themes
        // Prettylights
        --color-prettylights-syntax-comment: v93 //#6a737d;
        --color-prettylights-syntax-constant: v97 //#005cc5;
        --color-prettylights-syntax-entity: v67 //#6f42c1;
        --color-prettylights-syntax-storage-modifier-import: v67 //#24292e;
        --color-prettylights-syntax-entity-tag: v67 //#22863a;
        --color-prettylights-syntax-keyword: v37 //#d73a49;
        --color-prettylights-syntax-string: v45 //#032f62;
        --color-prettylights-syntax-variable: v25 //#e36209;
        --color-prettylights-syntax-brackethighlighter-unmatched: v11 //#b31d28;
        --color-prettylights-syntax-invalid-illegal-text: v97 //#fafbfc;
        --color-prettylights-syntax-invalid-illegal-bg: v11 //#b31d28;
        --color-prettylights-syntax-carriage-return-text: v97 //#fafbfc;
        --color-prettylights-syntax-carriage-return-bg: v11 //#d73a49;
        --color-prettylights-syntax-string-regexp: v49 //#22863a;
        --color-prettylights-syntax-markup-list: v25 //#735c0f;
        --color-prettylights-syntax-markup-heading: v67 //#005cc5;
        --color-prettylights-syntax-markup-italic: v99 //#24292e;
        --color-prettylights-syntax-markup-bold: v99 //#24292e;
        --color-prettylights-syntax-markup-deleted-text: v97 //#b31d28;
        --color-prettylights-syntax-markup-deleted-bg: v11 //#ffeef0;
        --color-prettylights-syntax-markup-inserted-text: v97 //#22863a;
        --color-prettylights-syntax-markup-inserted-bg: v41 //#f0fff4;
        --color-prettylights-syntax-markup-changed-text: v97 //#e36209;
        --color-prettylights-syntax-markup-changed-bg: v21 //#ffebda;
        --color-prettylights-syntax-markup-ignored-text: v97 //#f6f8fa;
        --color-prettylights-syntax-markup-ignored-bg: v63 //#005cc5;
        --color-prettylights-syntax-meta-diff-range: v29 //#6f42c1;
        --color-prettylights-syntax-brackethighlighter-angle: v94
        --color-prettylights-syntax-sublimelinter-gutter-mark: v95
        --color-prettylights-syntax-constant-other-reference-link: v46 //#032f62;
        // CodeMirror
        --color-codemirror-text: v97 //#24292e;
        --color-codemirror-bg: bg1 //#fff;
        --color-codemirror-bg-contrast: bg2
        --color-codemirror-gutters-bg: bg2 //#fff;
        --color-codemirror-guttermarker-text: v97 //#fff;
        --color-codemirror-guttermarker-subtle-text: v95 //#d1d5da;
        --color-codemirror-linenumber-text: v98 //#959da5;
        --color-codemirror-cursor: v09 //#24292e;
        --color-codemirror-selection-bg: bg3 //#d7d4f0;
        --color-codemirror-activeline-bg: bg2 //#fafbfc;
        --color-codemirror-matchingbracket-text: v09 //#24292e;
        --color-codemirror-lines-bg: bg1 //#fff;
        --color-codemirror-syntax-comment: v94 //#6a737d;
        --color-codemirror-syntax-constant: v67 //#005cc5;
        --color-codemirror-syntax-entity: v87 //#6f42c1;
        --color-codemirror-syntax-keyword: v17 //#d73a49;
        --color-codemirror-syntax-storage: v17 //#d73a49;
        --color-codemirror-syntax-string: v46 //#032f62;
        --color-codemirror-syntax-support: v67 //#005cc5;
        --color-codemirror-syntax-variable: v25 //#e36209;
        // Ansi
        --color-ansi-black: v92
        --color-ansi-black-bright: v94 //#2f363d;
        --color-ansi-white: v97 //#e1e4e8;
        --color-ansi-white-bright: v99 //#e1e4e8;
        --color-ansi-gray: v96 //#959da5;
        --color-ansi-red: v35 //#f97583;
        --color-ansi-red-bright: /v39 //#fdaeb7;
        --color-ansi-green: v47 //#85e89d;
        --color-ansi-green-bright: v49 //#bef5cb;
        --color-ansi-yellow: v37 //#ffea7f;
        --color-ansi-yellow-bright: v39 //#fff5b1;
        --color-ansi-blue: v67 //#79b8ff;
        --color-ansi-blue-bright: v69 //#c8e1ff;
        --color-ansi-magenta: v77 //#b392f0;
        --color-ansi-magenta-bright: v79 //#d1bcf9;
        --color-ansi-cyan: v57
        --color-ansi-cyan-bright: v59

        --color-code-selection-bg: var(--color-codemirror-selection-bg) //#c8e1ff;
    }

    // Base styles.
    html {
        ::placeholder { c: v94 }
        ::selection { background-color: var(--color-codemirror-selection-bg); color: var(--color-codemirror-text) }

        body {
            // Application background.
            .application-main > .bg-gray { --color-bg-canvas: bg1 }
            &.page-profile .application-main { bs: 0 -24px bg2 }
            // e.g. https://github.com/login/oauth/authorize?client_id=c602a8bd54b1e774f864&scope=repo
            &.bg-gray-light {--color-bg-secondary: bg1 }

            // Unicorn page -> taking too long to load (no css vars)
            background-color: bg1
            color: v98

            p, #suggestions a { color: v98 }

            // Feat -> UI font.
            if custom_font {
                &, /.markdown-body {
                    font-family: var(--f-ui) i
                }

                // Feat -> Code font.
                // Diff linenum/code, CodeMirror, commit reference, utility class.
                /.blob-num,
                /.blob-code-inner,
                /.CodeMirror-lines,
                /.commit-ref,
                /.text-mono {
                    font-family: var(--f-mono) i
                }
            }
        }

        // Feat -> Theme scrollbars.
        if c_scrollbars {
            scrollbar-color: v04 bg2 i
            /::-webkit-scrollbar {
                width: 10px
                &-track { background: bg2 }
                &-thumb { background: v04 }
            }
        }

        // Feat -> allow disabling appearance tab
        if (!(show_gh_tab)) {
          .menu-item[data-selected-links=" /settings/appearance"] {
            display: none i
          }
        }

        // Skeleton.
        /.Skeleton {
            background-image: linear-gradient(270deg, bg3, bg2, bg2, bg3)
            /path.js-diff-placeholder { g: bg2 }
        }

        // Diff -> 'Display the rich diff' loader. @upstream
        .render-container { c: 0 0 bg1 }
        img.octospinner[src], .is-loading, .loading, svg.octospinner, .anim-rotate { filter: opacity(0.6) }
    }

    // Better checkbox/radio inputs.
    input {
        r       = unquote
        prefix  = 'data:image/svg+xml;utf8,'
        prefix += '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">'

        &[type='radio'],
        &[type='checkbox'] {
            &, &:focus, &:hover:active {
                -webkit-appearance: none
                -moz-appearance: none
                appearance: none
                cursor: pointer
                height: b_hgwd
                width: b_hgwd
                border: 1px solid bg5
                background-size: cover
                transition: all 0.2s cubic-bezier( 0.3, 0, 0.5, 1)
                c: v08 0 bg1
            }
            &:disabled, &:hover:active:disabled, &:disabled:hover {
                c: v94 bg5 bg4
                cursor: default
            }
        }

        &[type='radio'] {
            // fix border radius at https://github.com/settings/profile Emoji color
            border-radius: 50%
            // align with checked state
            padding: 7px
            &:checked {
                z = '<circle cx="256" cy="256" r="128" fill="' + to_svg($v99) + '"/>'
                background-image: s("url('%s%s</svg>') %s", r(prefix), r(z), i)
                c: 0 v05 v02
            }
            &:focus, &:hover { c: 0 v08 bg2 }
        }

        &[type='checkbox'] {
            border-radius: 2px
            &:checked {
                z ='<path fill="' + to_svg($v99) + '" d="M99 213l-1 89 104 102 205-201v-91L203 315 99 213z"/>'
                background-image: s("url('%s%s</svg>') %s", r(prefix), r(z), i)
                c: 0 v04 v02
            }
            &:focus, &:hover { c: 0 v08 bg2 }
            &:indeterminate {
                z = '<rect x="128" y="128" width="256" height="256" fill="' + to_svg($v99) + '"/>'
                background-image: s("url('%s%s</svg>') %s", r(prefix), r(z), i)
                c: 0 v16 v14
            }
        }

        &[type='file'] {
            &::file-selector-button {
                background-color: bg5
                border: 2px solid bg5
                color: v98

                border-radius: 0.25em
                padding: .2rem .4rem
                cursor: pointer
                &:hover {
                    background-color: v09
                    border: 2px solid v09
                    color: v98
                }
            }
            &::-webkit-file-upload-button {
                background-color: bg5
                border: 2px solid bg5
                color: v98

                border-radius: 0.25em
                padding: .2rem .4rem
                cursor: pointer
                &:hover {
                    background-color: v09
                    border: 2px solid v09
                    color: v98
                }
            }
        }
    }

    // Better select element styles.
    /select {
        // Custom icon.
        r       = unquote
        prefix  = 'data:image/svg+xml;utf8,'
        prefix += '<svg width="16" height="16" fill="' + to_svg($v95) + '" '
        prefix += 'xmlns="http://www.w3.org/2000/svg">'
        path    = '<path d="M4.427 9.427l3.396 3.396a.251.251 0 00.354 '
        path   += '0l3.396-3.396A.25.25 0 0011.396 9H4.604a.25.25 0 '
        path   += '00-.177.427zM4.423 6.47L7.82 3.072a.25.25 0 01.354 0L11.57 '
        path   += '6.47a.25.25 0 01-.177.427H4.6a.25.25 0 01-.177-.427z"/>'

        &.form-select {
            background-image: s("url('%s%s</svg>') %s", r(prefix), r(path), i)
            background-position: right 8px center
            background-size: 16px
            // Override default colors.
            &:not([disabled]) {
                c: 0 0 bg2
                &:hover { c: 0 0 bg3 }
                &:active { c: 0 0 bg4 }
            }
        }
    }

    if (chbx_a_header) {
        // Fix checkbox on notifications alignment
        .Box-header {
            label {
                span.js {
                    &-select-all-text, &-count-selected-text,
                    &-all-count-selected-text { vertical-align: super }
                }
                input[type='checkbox'] {
                    margin-top: .25rem
                }
            }
        }

        #dependency-graph-enable-new-private-repos,
        #security-alerts-enable-new-private-repos,
        #vulnerability-updates-enable-new-repos,
        #user_profile_hireable {
            vertical-align: sub
        }

        // Fix checkbox on org people header alignment
        // https://github.com/orgs/:org/people/pending_invitations
        #select-all-checkbox { vertical-align: super }

        label[for="select-all-checkbox"] { margin-top: -.05rem }

        [data-bulk-actions-parameter="pending_collaborator_invitation_ids"] {
            label[for="select-all-checkbox"] {
                margin-left: .11rem
                margin-top: -.13rem
            }
        }

        [data-bulk-actions-parameter="outside_collaborator_ids"] {
            label[for="select-all-checkbox"] {
                margin-top: -.1rem
                margin-left: .11rem
            }
        }

        [data-bulk-actions-parameter="invitation_ids"] {
            input[id="select-all-pending"],
            input[id="select-all-failed"] {
                vertical-align: top
                margin-left: -.17rem
                margin-top: .2rem
            }

            label[for="select-all-pending"],
            label[for="select-all-failed"] {
                vertical-align: top
                margin-top: -.22rem
                margin-left: -.4rem
            }
        }
        #org-members-table {
            input#select-all-checkbox { margin-top: .6rem }
            label[for="select-all-checkbox"] span { margin-left: -.5rem }
        }
    }

    // Btn overrides/fixes
    .btn {
        // Override button icon star/fork/watch
        .octicon { --color-text-tertiary: v97 }
        // Override danger disabled and fix non active border e.g. right click on btn
        &-danger:disabled, &-danger.disabled, &-danger[aria-disabled="true"] {
            --color-btn-border: bg3
            &:not(:active) {
                border-color: bg3
            }
        }
    }

    // Fix ellipsis expander bg (not usinc css vars)
    // e.g. https://github.com/EFForg/privacybadger/commit/2c93318fc068e2d3a04b7468c7afce10f2bc48ef
    .branches-tag-list li {
        .ellipsis-expander {
            background-color: var(--color-hidden-text-expander-bg) //#d3e2f4;
            &:hover { background-color: var(--color-hidden-text-expander-bg-hover) }
        }
    }

    // Fix border-color (not using css vars upstream) https://github.com/settings/keys
    .user-key {
        &-email, &-badge { border-color: bg5 }
    }

    // Fix logout border color (not using css vars upstream) + add opinionated bg
    .session {
        &-authentication .login-callout {
            background: var(--color-bg-primary)
            border-color: var(--color-border-secondary)
        }
        // fix Box shadow no using CSS vars upstream e.g. https://github.com/settings/security
        &-device {
            .session-state-indicator.recent {
                box-shadow: 0 0 5px v45
            }
        }
    }

    // https://github.com/about no css vars
    hr { border-color: var(--color-border-secondary) }

    // Logout fixes
    .home-nav-item.selected { border-color: v09; color: v99 i }

    .logged-out {
        .box-shadow-card-border-mktg { box-shadow: var(--color-shadow-extra-large) }

        .home-nav .bg-white { c: 0 0 bg0 }

        .btn-mktg-fluid {
            background: var(--color-btn-primary-bg)
            &::before {
                background-image: linear-gradient(-180deg, var(--color-btn-primary-hover-bg), var(--color-btn-primary-hover-bg))
            }
            &:hover {
                background-image: linear-gradient(-180deg, var(--color-btn-primary-hover-bg), var(--color-btn-primary-hover-bg))
            }
        }

        .btn-white-outline-mktg-fluid {
          background: none
          box-shadow: inset 0 0 0 1px hsla(convert($v98), .6)
          color: v98
          &:hover {
              background: none
              box-shadow: inset 0 0 0 1px hsla(convert($v99), .8)
              color: v98
          }
        }

        .home-git-log-center::after { background: v95 }
        svg path[d="m1-8c0 75 108 75 108 150"] { g: 0 v95 }

        .text-gray-dark-mktg { color: v99 i  }

        .btn-outline-mktg-fluid {
            color: v78
            background: none;
            box-shadow: inset 0 0 0 1px rgba(convert($v78), .5);
        }

        .build-in-animate {
            [style*="box-shadow: 0 0 50px 30px #fff"] { bs: 0 0 50px 30px bg1 i }
        }
    }

    // Optgroup fixes for Firefox
    // see: https://bugzilla.mozilla.org/show_bug.cgi?id=1394491
    optgroup {
        background-color: bg5
        &::before {
            color: v97
            background-color: bg5
        }
    }

    // ORG third party access borders (not using css vars upstream)
    .boxed-group {
        &-list > li:first-child { border-color: bg4 }
        &-inner .help { border-color: bg4 }
    }

    // Actions
    .CheckStep {
        a {
            &:hover { color: var(--color-text-white) i }
        }
        &[open] {
            .CheckStep-header {
                color: var(--color-text-white)
                background-color: var(--color-hidden-text-expander-bg)
                box-shadow: none
                &-label { color: var(--color-text-white) }
            }
        }
        &-line {
            color: var(--color-diff-blob-num-text)

            .CheckStep-line-number { color: var(--color-diff-blob-num-text) }

            &:hover {
                --color-auto-gray-0: var(--color-text-white)
                --color-auto-gray-8: var(--color-code-selection-bg)
            }

            .CheckStep-line-content a { color: v08 }

            &.selected {
                color: var(--color-diff-blob-num-text)

                .CheckStep-line-number { color: var(--color-diff-blob-num-text) }
            }
        }
        & .log-line-command {
            color: var(--color-auto-blue-7)

            .CheckStep-line-number { color: var(--color-auto-blue-7) }
        }
        &-header {
            background-color: var(--color-hidden-text-expander-bg)
            box-shadow: none

            &:hover {
                background-color: var(--color-hidden-text-expander-bg-hover) i
                box-shadow: none
            }

            &-label { color: v97 }

            &-dropdown:hover {
                color: var(--color-text-tertiary)
                background-color: var(--color-bg-secondary) i

                .octicon { color: var(--color-text-primary) i }
            }
        }
    }
    .CheckRun {
        background-color: var(--color-bg-primary)

        &-header {
            border-bottom: 1px solid bg5
            .CheckRun {
                &-search-input {
                    color: var(--color-text-secondary)
                    background-color: bg2
                    &:focus { color: var(--color-text-primary) }
                }
            }
            &-counter {
                color: var(--color-text-secondary)
                background-color: var(--color-counter-bg)
            }
        }
        &-log-title { color: v96 }
        &-header {
            background-color: var(--color-bg-primary) i
            border-top: 1px solid var(--color-border-primary)

            .btn-link {
                &:not([disabled]) {
                    color: var(--color-text-secondary)
                    &:hover {
                        background-color: v01
                        color: v98
                    }
                    .octicon { color: var(--color-text-primary) }
                }
            }
            .btn .btn-link {
                &:not([disabled]) {
                    color: var(--color-text-tertiary)

                    .octicon { color: var(--color-text-tertiary) }
                }
            }
        }
        &-search details[open] .octicon { c: v95 0 0 }
    }
    .checks-list-item.bg-white { c: 0 0 var(--color-bg-secondary) }

    .actions-fullwidth-module.color-bg-tertiary { --color-bg-tertiary: bg0 }

    // fix dropdown menu disabled entries bg on hover GH upstream bug
    .dropdown {
        &-item.btn-link:disabled {
            &:hover { background: none }
        }

        &-menu-dark {
            color: var(--color-text-white);
            background: var(--color-bg-primary)
            border-color: var(--color-border-primary)

            .dropdown-divider { border-color: bg4 }

            &::after { --color-auto-gray-8: var(--color-bg-primary) }
            &::before { border-bottom-color: bg4 }
        }
    }

    // Global -> Color overrides.
    /{
        // NOTE: Remaps bg1 to bg0.
        .js-profile-timeline-year-list,
        .notification-navigation,
        .tabnav {
            &.bg-white {
                c: 0 0 bg0
            }
        }
        .diffbar,
        .TimelineItem-break,
        h3 > span.color-bg-canvas,
        .contribution-activity-listing .color-bg-primary,
        .page-profile .Progress.color-bg-primary {
            c: 0 0 bg0
        }

        // NOTE: Remaps bgX to bg1.
        .commit-form,
        .form-actions .bg-gray-light {
            c: 0 0 bg1
        }

        // Profile -> Navigation.
        #js-pjax-container > .position-sticky.bg-white {
            &:first-child { c: 0 0 bg2 }
        }

        // Topics -> Background.
        [style*='background-color: #fcfdfd'] {
            c: 0 0 bg0
            // fix explore, tab color and bg color should match
            .bg-white { c: 0 0 bg0 }
        }
        // Topics -> Issues.
        [style*='(255\,255\,255\,1)\, rgba(255\,255\,255\,0))'] {
            background: linear-gradient(to top, bg1, t) i
        }

        // Locked discussion bg to tab color fix
        .locked-conversation .tabnav-tab.selected { c: 0 0 bg1 }

        button.close-button { color: v98 0 0 }
        .vcard-username { c: v96 0 0 }

        // Progress loader
        .progress-pjax-loader > .progress-pjax-loader-bar[style*="background-color"] {
            c: 0 0 v08
            box-shadow: 0 0 10px v06
        }

        // Flash only blue to accent color
        .flash:not([class*="-warn"]):not([class*="-error"]):not([class*="-info"]) {
            background-image: linear-gradient(v01 , v01)
            border-color: v02
            color: var(--color-alert-info-text)
            .octicon {
                --color-alert-info-icon: v07
                &:hover { color: v09 }
            }
        }

        // upstream regression no css vars e.g. https://support.github.com/tickets/personal/0 status yellow
        .flash-warn {
            background-color: v31 //#fffbdd
            border-color: v34 //rgba(176,136,0,0.2)
            color: var(--color-alert-info-text)

            .octicon { color: v35 }
        }

        // Commit ref & user blue to accent color
        .commit-ref {
            --color-branch-name-text: v07
            .user { --color-auto-blue-7: v07 }
        }

        .markdown-body {
            // Code blocks.
            pre { c: 0 0 var(--color-codemirror-bg) }

            blockquote { color: v96 }

            // metrics image e.g. https://github.com/AbhayAysola
            /img[data-canonical-src*="https://metrics.lecoq.io/"] {
                filter: invert(.90) hue-rotate(180deg) saturate(1.5) brightness(80%)
                background: t
            }
        }

        // Releases.
        .release-timeline-tags {
            .tag-timeline-date::after { c: 0 bg0 }
        }

        .subnav-item {
            &.selected,
            &[aria-current]:not([aria-current="false"]),
            &[aria-selected="true"] { c: 0 v04 0 }
        }

        .pinned-item {
            &-name { --color-auto-gray-8: v98 }
            &-checkbox:checked + .pinned-item-name { --color-auto-gray-9: v99 }
        }
        // Image fixes
        // Actions e.g. https://github.com/vednoc/dark-github/actions/new
        .repo-actions-hero {
            filter: invert(0.95) hue-rotate(180deg) brightness(1.4)
            mix-blend-mode: lighten
        }

        // fix GH circlebadge https://github.com/login/oauth/authorize?client_id=c602a8bd54b1e774f864&scope=repo
        .CircleBadge[style*="background-color: #fff; overflow"] { background-color: var(--color-bg-tertiary) }


        .CircleBadge-icon[alt*="workflow logo"] {
            filter: invert(0.95) brightness(1.5) grayscale(1)
            mix-blend-mode: lighten
        }

        // Actions icon
        // https://github.com/StylishThemes/GitHub-Dark/actions/runs/402755845
        svg[width="40"][height="40"][viewBox="0 0 57 57"] {
            [stroke="#79B8FF"] { g: 0 var(--color-icon-secondary) }
            [stroke="#2088FF"] { g: 0 var(--color-icon-primary) }
        }

        svg[width="56"][height="56"][viewBox="0 0 56 56"] {
            [fill="#79B8FF"] { g: var(--color-icon-secondary) }
            [fill="#2188FF"] { g: var(--color-icon-primary) }
        }

        svg[width="56"][height="56"][viewBox="0 0 62.9 56"] {
            [fill="#79b8ff"] { g: var(--color-icon-secondary) }
            [fill="#2088ff"] { g: var(--color-icon-primary) }
        }

        // Images
        img {
            // Notifications /  logged-out / First issue
            &[src*="filters-zero"], &[src*="inbox-zero"], &[src*="permissions"],
            &[src*="enterprise-city-w-logos"], &[src*="profile-first-"], &[src*="profile-joined-"] {
                filter: invert(0.95) hue-rotate(180deg) brightness(1.5) grayscale(1)
                // A mix-blend-mode: exclusion value will blend images with themes closer
                mix-blend-mode: exclusion
            }
        }

        // Crest logged out bg
        path[d="M0 40h1680V30S1340 0 840 0 0 30 0 30z"][fill="#fff"] {
            g: bg0
        }

        // Image -> https://github.com/orgs/style-it-themes/packages
        #package-results .cls {
            &-1 { g: var(--color-icon-secondary) }
            &-2 { g: var(--color-icon-primary) }
        }

        // https://github.com/about unsocial icons
        a[href][style*="color: #959da5"] {
            c: v95 0 0
            &:hover { c: v97 0 0 }
        }

        // Card filter focus to accent color
        .card-filter-autocomplete-dropdown {
            .navigation-focus,
            [aria-selected="true"] {
                color: var(--color-text-white) i
                background-color: v01
            }
        }

        // Viewed ng to accent color
        .js-reviewed-toggle { --color-auto-blue-2: v01 }

        // Not using CSS vars upstream e.g. https://github.com/about/milestones
        .link-mktg {
            color: v08 //#1074e7;
            box-shadow: 0 1px 0 0 rgba(AC, .5) //rgba(16,116,231,.5);
            &:hover {
                color: v09 //#0366d6;
                box-shadow: 0 1px 0 0 v09 //#1074e7;
            }
        }

        // Logout link colors not using css vars
        .link-blue-light-mktg:hover,
        .link-blue-mktg, .link-blue-mktg:hover { c: v09 0 0 }

        // Not using CSS vars upstream e.g. https://github.com/security/incident-response
        .text {
            &-gray-light-ultra { color: v98 }
            // logout not using css vars
            &-gray-light-mktg { c: v97 0 0 }
            &-gray-mktg { c: v95 0 0 }
            &-blue {
                &-mktg { c: v08 0 0 }
            }
        }

        // logout Not using CSS vars upstream
        .home-git-log-light .home-git-heart-icon,
        .home-git-log-light .home-git-icon { background-color: bg0 }

        // Logout svgs
        .home-git-item {
            path[fill="#fff"] { g: bg0 0 }
            g[fill="#8392ad"] { g: 0 v99 }
        }

        /svg {
            path[d="m0 0h28v26h-28z"][fill="#fff"] { g: bg0 0 }
            g[fill="#8392ad"] { g: 0 v99 }
        }

        .home-git-log-light .home-branch > path { g: 0 v95 }
        .home-git-log-dark::after, .home-git-log-light::after, .home-repo-comp::after {	background: v95 }
        .home-git-log-dark-icons .home-git-icon > circle, .home-git-log-dark .home-git-icon > circle,
        .home-git-log-dark-icons .home-git-icon > path, .home-git-log-dark .home-git-icon > path {
            g: 0 v94
        }

        #home-develop {
            [style*="border-bottom: 2px solid #424d65; border-left: 2px solid #424d65"],
            [style*="border-top: 2px solid #424d65; border-right: 2px solid #424d65"] { border-color: v94 i }
        }

        // Logout logos
        /img {
            &[src*="platform"] { filter: invert(1) hue-rotate(180deg)brightness(80%) }
        }
    }

    // Projects collumn to accent color
    .project-column {
        &:focus { --color-auto-blue-4: var(--color-upload-enabled-border-focused) i }
    }

    // Project card border focus to accent color
    .project-card:focus {
        --color-auto-blue-4: v04
    }

    // Navbar.
    .js-header-wrapper {
        // fix border below https://github.com/settings/apps/authorizations header
        .Header { border-bottom: 1px solid bg5 }

        // Feat -> Sticky navbar.
        if (navbar_sticky) {
            position: sticky i
            z-index: 99
            top: 0 i

            // Fix progress bar position.
            .Progress { top: 0 }

            // Dashboard -> Tweak top offset for sidebar items.
            /.dashboard-sidebar.is-stuck { margin-top: 60px i }

            // Issues -> Sticky header.
            /.gh-header .gh-header-sticky.is-stuck {
                margin-top: 3px i
                + .gh-header-shadow { height: 63px i }
            }
        }

        // Search. @upstream
        .header-search-wrapper {
            input { color: v98 }

            // Fix styles for focused state.
            &.focus {
                background-color: bg1

                // Reset results.
                .Box {
                    margin-left: -1px
                    width: calc(100% + 2px) i
                }
            }
        }

        // Notifications. @upstream
        .mail-status {
            background-image: none i
            c: 0 0 v08
        }

        // Logged out style.
        .header-logged-out {
            padding-top: 3px i
            padding-bottom: 3px i

            // Default one uses white color.
            --color-text-white: v98
        }
    }

    // Notification
    .notifications-list-item {
        &.notification-unread {
            --color-notifications-row-bg: bg2
            .notification-list-item-unread-indicator { --color-bg-info-inverse: v08 }
        }
        &.notification {
            &-read, &-archived { --color-notifications-row-read-bg: bg1 }
        }
        &:hover {
            --color-auto-blue-5: v04
            .notification-list-item-actions {
                .btn:hover {
                    --color-notifications-button-hover-bg: v04
                }
            }
        }
    }

    // Feature preview notification dot
    .feature-preview-indicator { background-image: linear-gradient(v08, v08) }

    // Navigation. @upstream
    .UnderlineNav-item {
        &.selected,
        &[role="tab"][aria-selected="true"],
        &[aria-current]:not([aria-current="false"]) {
            c: 0 v09
        }
        &:focus, &:hover { c: 0 bg5 }
        /.UnderlineNav { bs: inset 0 -1px 0 bg4 }
    }

    // Sub-navigation. @upstream
    .site-subnav {
        bs: 0 1px 0 bg3

        /.subnav-link {
            c: v97 0 0
            &:hover { c: v99 bg5 }
            &.selected { c: v99 v09 }
        }
    }



    // Override Sidenav BG too bright
    // e.g. https://github.com/vednoc/dark-github/security/code-scanning
    .SideNav { --color-bg-secondary: var(--color-bg-primary) }

    // Reset colors for tabs.
    .tabnav-tab {
        &.selected,
        &[aria-selected="true"],
        &[aria-current]:not([aria-current="false"]) {
            c: 0 0 bg0
        }
        &[aria-current="true"], // Explore: topics/tag
        &[aria-current="true"].code,
        &[aria-current="true"].preview,
        &[aria-selected="true"].write-tab:not(#z),
        &[aria-selected="true"].preview-tab:not(#z) {
            c: 0 0 bg1
        }
    }

    // Modals -> Overlay.
    .details-overlay-dark[open] > summary::before {
        opacity: 0.5
        c: 0 0 bg1
    }

    // Project -> Tags. @upstream
    .topic-tag {
        &-action, &-link { c: 0 v04 }

        // marketplace cat tag
        &:active { background-color: var(--color-topic-tag-active-bg) }
        &-contrast {
            .delete-topic-link {
                background-color: var(--color-topic-tag-bg)
                border-left-color: v04
                &:hover { background-color: var(--color-topic-tag-hover-bg) }
            }
        }
        // fix outline cause we added border to tags conflicts w/ box shadow used upstream as border/outline
        // e.g. https://github.com/marketplace/app-center
        &-outline { c: 0 v08; box-shadow: none }
    }

    // Table header override same as box header
    .table-list-header { --color-bg-tertiary: bg2 }

    // Project -> File tree.
    .Box {
        .h3, .mb-2 { color: v99 }
        .btn:not([class*="-"]) {
            color: var(--color-text-secondary)
            background-color: var(--color-btn-bg)
            border-color: var(--color-btn-border)
            &:hover {
                color: var(--color-text-primary)
                background-color: var(--color-btn-hover-bg)
                border-color: var(--color-btn-border)
            }
        }
        &-header { --color-bg-tertiary: bg2 }
        // notifications saved bg fix
        &-body .bg-gray { --color-bg-tertiary: bg1 }
        // Avoid coloring box danger border
        &.p-3 {
            // Fix sponsors card e.g. https://github.com/sponsors/elrumo/card
            background-color: bg1 // must be bg1
            border: 1px solid bg4
        }

        // Use lighter background color for focused items.
        &-row--focus-gray.navigation-focus { c: 0 0 bg2 }

        // Border color for modals.
        &--overlay { c: 0 bg5 }

        // Override bg row gray settings/security -> sessions
        &-row--gray { c: 0 0 bg1 }
        // Tree items.
        &-row.js-navigation-item {
            c: 0 bg4

            // Fix double border in issues.
            &:first-of-type { c: 0 t }
        }


        // Feat -> Old readme header design.
        if (readme_header) {
            &-header.border-bottom-0 {
                border-bottom: 1px solid bg5 i
                c: 0 0 bg2

                // Fix padding in the body.
                + .Box-body { padding-top: 32px i }
            }
        }

        /// Feat -> Neutral colors in latest commit.
        if (latest_commit) {
            &-header--blue { c: 0 bg5 bg2 }
            // Commit details.
            /.full-commit {
                c: 0 0 bg2
                p.commit-title { c: v98 }
            }
        }
        else {
            &-header--blue { c: 0 v04 v01 }
            // Commit details
            /.full-commit {
                p.commit-title {
                    color: v98
                }
            }
        }

        /// Feat -> Shorter headers.
        if (short_headers) {
            condition = (readme_header == 1) ? '' : '--blue'
            /.repository-content &-header{ condition } {
                padding-top: 8px
                padding-bottom: 7px

                // Smaller avatars.
                .avatar[style*='width:24px'] {
                    margin-top: 2px
                    margin-left: 2px
                    &, img {
                        width: 20px i
                        height: @width
                    }
                }
            }
        }
    }

    // make optional truncate at higher or set width.
    // e.g. https://github.com/Gitoffthelawn?tab=overview&from=2020-10-01&to=2020-10-31
    .TimelineItem {
        .css-truncate.css-truncate-target, .css-truncate .css-truncate-target { max-width: 350px }
    }

    // Billing icon fixes https://github.com/settings/billing
    .billing-box-header {
        /img[src*="site/icons"] {
            filter: grayscale(1) brightness(1.5)
        }
    }

    // large Icons in settings
    #options_bucket {
        /img[src*="icons/marketing"] {
            filter: grayscale(1) brightness(1.5)
        }
    }

    // darken main box-header bg allows buttons on hover to contrast
    /.repository-content {
        // darken
        .diff-view {
            .highlight { background: bg0 }
        }
        // remove margin above codemirror
        .file-header.mb-2 { margin-bottom: 0 i }

        img[src*="actions"] {
            filter: grayscale(1) invert(0.95) brightness(1.5)
        }
        .bg-white.blob-code:not(.border-bottom-0) {
            shade = (dark(BG)) ? darken : lighten
            background: mix(shade(FG, 5%), BG, 2%) i
        }
    }
     // When issues are locked, we match tab bg color
    // e.g.
    .previewable-comment-form .blankslate {
        background: var(--color-bg-primary)
        // remove extra space between tabnav and blankslate
        margin-top: -8px
    }

    // When you have dark syntax themes the contrast
    // between comment body and code blocks is lost this override adds its back
    .comment-body, .review-comment, .discussion-comment.unminimized-comment {
        shade = (dark(BG)) ? darken : lighten
        background: mix(shade(FG, 5%), BG, 2%) i
    }
    // Dont mangle preview tab with above styling
    .preview-selected .comment .comment-body { c: 0 0 bg1 }

    // PR review reply border radius fix (upstream bug)
    .review-thread-reply { border-radius: 0 0 0 0 }

    // fix select menu border color (saved replies menu)
    .select-menu-item:hover code .border { border-color: v95 i }

    // Fix dark emoji on dark backgrounds
    if (dark(BG)) {
        .emoji {
            &[alt="tm"], &[alt="copyright"],
            &[alt="registered"] { filter: invert(.95) brightness(1.2) }
            &[alt*="phone"], &[alt="clubs"],
            &[alt="spades"], &[alt="eight_pointed_black_star"] { filter: invert(.95) }
            &[alt="wrench"], &[alt="paperclip"],
            &[alt="8ball"], &[alt="black_circle"] { filter: brightness(1.2) }
            &[alt="bomb"], &[alt="musical_score"] { filter: invert(.7) hue-rotate(180deg) brightness(1.1) }
        }
    }

    // Project -> Insights.
    .menu-item {
        c: 0 bg5
        &.selected::before,
        &[aria-selected="true"]::before,
        &[aria-current]:not([aria-current="false"])::before {
            c: 0 0 v09
        }

        // Graphs -> Contributors.
        /.graphs {
            .tint-box, .capped-card-content {
                c: 0 0 bg2
            }
            line[stroke*='#000'] { g: 0 bg4 }
            text[fill='#6a737d'] { g: v94 0 }

            // Commits -> Day names.
            text[text-anchor='middle'] { g: v97 0 }

            // dot not using stroke  css vars
            .dot { g: 0 var(--color-bg-success-inverse) }

            // Network -> Invert colors.
            @media (prefers-color-scheme: light) {
                if (dark(BG)) {
                    /#network > .Box {
                        c: 0 0 bg0
                        canvas { filter: invert(.9) hue-rotate(180deg) contrast(1.1) }
                    }
                }
            }
        }

        // Graphs -> Traffic.
        /.traffic-graph {
            // Add whitespace. @upstream
            &-stats {
                c: 0 bg5
                ul > li {
                    padding: 1rem
                    text-align: center
                    c: v97 0 bg1
                    &:first-of-type {
                        border-right: 1px solid bg5
                    }
                }
            }
        }

        // Tables.
        /.gutter table.capped-list th { c: 0 bg4 }
    }

    // Not using css vars upstream, deletion is??
    // Code Freequency + override fill opacity to match pulse/contributors/commits
    /.code-frequency {
        .addition {
            g: var(--color-auto-green-5)
            fill-opacity: .6
        }
        .deletion { fill-opacity: .6 }
    }

    // svg tip bg not using css vars
    .svg-tip {
        background: rgba(BG, .9)
        // Override border right color traffic metric popup
        /.comparison .metric-0 {
            --color-auto-gray-9: bg4
        }
    }

    // Activity year (repositories) to accent color
    // e.g. https://github.com/StylishThemes
    rect[x][y][style*="gradient-"] {
        g: v09
    }

    // Override pulse authors bar rect and contrib person path color
    .pulse-authors-graph .bar rect, .contrib-person path {
        --color-auto-orange-5: v05
        --color-auto-orange-4: v05
        fill-opacity: .5
    }

    g.mini { --color-auto-orange-4: v04 }

    // network-tree invert gif
    /.network-tree {
        filter: invert(0.95) hue-rotate(180deg) brightness(0.6)
        mix-blend-mode: lighten
    }

    /:target {
        .timeline-comment {
            border-color: v04
            box-shadow: 0 0 0 .2em v01
            &[class*='--caret'] {
                &::before {
                    filter: drop-shadow(-.28em 0 0 v01)
                    border-right-color: v06
                }
            }
        }
    }

    // Notes -> Resets.
    .branch-action-body::after { border-right-color: bg1 i }

    .timeline-comment {
        &[class*='--caret'] {
            &::before { border-right-color: bg5 }
            &::after { border-right-color: bg3 }
            &.current-user {
                border-color: var(--color-box-border-info)
                &::before { border-right-color: v04 }
                &::after { border-right-color: v02 }
            }

            /:target &::before { border-right-color: var(-color-timeline-target-badge-shadow) i }
        }

        // PR -> CLI instructions.
        /.merge-branch-manually { c: 0 bg5 }
        /.copyable-terminal {
            border: 1px solid bg5
            c: 0 0 bg1
        }

        /// Remove borders from input box.
        &-wrapper { c: 0 t }

        // Remove header/input backgrounds.
        /.gh-header, /.discussion-timeline-actions { c: 0 0 t }

        // Badges.
        /.TimelineItem-badge { --color-bg-canvas: var(--bg-0) }

        // Subscribe to updates.
        /.thread-subscription-status {
            c: 0 bg5
            /.sidebar-notifications & { c: 0 0 bg0 }
        }
    }

    // Override merge status bg
    .merge-status-item {
        --color-bg-tertiary: rgba(convert($bg2), .5)
    }

    // Profile.
    /{
        // Calendar progress bars in activity.
        .Progress-item {
            &[style*="#9be9a8"] { c: 0 0 var(--color-calendar-graph-day-L1-bg) }
            &[style*="#40c463"] { c: 0 0 var(--color-calendar-graph-day-L2-bg) }
            &[style*="#30a14e"] { c: 0 0 var(--color-calendar-graph-day-L3-bg) }
            &[style*="#216e39"] { c: 0 0 var(--color-calendar-graph-day-L4-bg) }
        }

        // Add border to calendar legends.
        .legend li { bs: inset 0 0 0 1px var(--color-calendar-graph-day-border) i; rad: 1px i; width: 11px i; height: @width }

        // Halloween activity overview.
        .halloween-activity-overview .activity-overview {
            &-box [fill='#40c463'] { g: v22 v22 }
            &-axis, &-point { g: 0 v24 }
        }

        // Regular activity overview.
        .activity-overview {
            &-box [fill='#40c463'] { g: v02 v02 }
            &-axis, &-point { g: 0 v04 }
        }

        // add opinionated outline + offset on day.active for actual contrast
        .calendar-graph.days-selected rect.day.active {
            outline: 1px solid v09 i
            outline-offset: 1px
        }
    }

    // Diff -> Changes. @upstream
    .blob {
        // File background.
        /.file {
            c: 0 0 var(--color-codemirror-bg)
            /:target {
                --color-auto-blue-4: v06
                --color-auto-blue-2: v02
            }
        }

        // Inline diffs.
        &-code {
            &-addition .x { color: var(--color-codemirror-text) }
            &-deletion .x { color: var(--color-codemirror-text) }
            &-inner { c: var(--color-codemirror-text) 0 0 }
        }
        // color the blob-num bg in timeline comments
        &-num:not([class*="-addition"]):not([class*="-deletion"]):not([class*="-expandable"]) {
            background: var(--color-codemirror-gutters-bg) i
        }

        // Line highlight.
        /table.highlight > tbody > tr {
            background-color: var(--color-codemirror-bg)
            &:hover > td.highlighted { background-color: v31 }
            &.divider:hover > td { background-color: bg3 }
        }

        // Code snippet dividers. @upstream
        /.divider &-num { c: 0 0 bg3 }
        /.divider &-code { c: 0 0 bg2 }

        // Code search dividers. @upstream
        /.code-list { & &-item { c: 0 bg3 }}
    }

    // Code
    /{
        // Feat -> Add borders around code blocks and similar elements.
        if (code_borders) {
            // Add border around code, pre, tt and commit references.
            .markdown-body { code, tt, pre { border: 1px solid bg5 }}
            .commit { &-ref, &-sha { border: 1px solid bg5 }}
            .branch-name { border: 1px solid bg5 }
        }

        // Syntax highlighting.
        .pl- {
            &c { color: v95 } //#6a737d
            &corl { color: var(--color-prettylights-syntax-string)}
            &c1, &s &v { color: var(--color-prettylights-syntax-constant)} //#005cc5
            &e, &en, &mdr { color: var(--color-prettylights-syntax-entity)} //#6f42c1
            &ent { color: var(--color-prettylights-syntax-entity-tag)} //#22863a
            &s &s1, &smi, &mb { color: var(--color-prettylights-syntax-storage-modifier-import)} //#24292e
            &mi { color: v99 }
            &mh, &mh &en, &ms { color: var(--color-prettylights-syntax-constant)}
            &k { color: var(--color-prettylights-syntax-keyword)} //#d73a49
            &pds, &s, &s &pse &s1, &sr,
            &sr &cce, &sr &sra, &sr &sre { color: var(--color-prettylights-syntax-string) } //#032f62
            &smw, &v { color: var(--color-prettylights-syntax-variable) } //#e36209
            &bu { color: var(--color-prettylights-syntax-carriage-return-bg) } //#b31d28
            &ii {
                color: var(--color-prettylights-syntax-invalid-illegal-text) //#fafbfc
                background-color: var(--color-prettylights-syntax-invalid-illegal-bg) //#b31d28
            }
            &c2 {
                color: var(--color-prettylights-syntax-carriage-return-text) //#fafbfc
                background-color: var(--color-prettylights-syntax-carriage-return-bg) //#d73a49
            }
            &sr &cce { color: var(--color-prettylights-syntax-variable) }
            &ml { color: var(--color-prettylights-syntax-markup-list) } //#735c0f
            &md {
                color: var(--color-prettylights-syntax-markup-deleted-text) //#b31d28
                background-color: var(--color-prettylights-syntax-markup-deleted-bg) //#ffeef0
            }
            &mi1 {
                color: var(--color-prettylights-syntax-markup-inserted-text) //#22863a
                background-color: var(--color-prettylights-syntax-markup-inserted-bg) //#f0fff4
            }
            &mc {
                color: var(--color-prettylights-syntax-markup-changed-text) //#e36209
                background-color: var(--color-prettylights-syntax-markup-changed-bg) //#ffebda
            }
            &mi2 {
                color: var(--color-prettylights-syntax-markup-ignored-text) //#f6f8fa;
                background-color: var(--color-prettylights-syntax-markup-ignored-bg) //#005cc5
            }
            &ba { color: var(--color-prettylights-syntax-brackethighlighter-angle)} //#586069
            &sg { color: var(--color-prettylights-syntax-sublimelinter-gutter-mark)} //#959da5
            /// https://github.com/VChet/StyleBase/blob/master/server.js
            &token {
                &.active, &:hover { background: var(--color-prettylights-syntax-markup-italic)}
            }
            &kos { color: var(--color-prettylights-syntax-markup-italic)}
        }

        .hljs {
            color: v17
            background: bg3
            &-comment, &-quote {
                color: v95
            }
            &-keyword, &-selector-tag, &-subst { color: v17 }
            &-number, &-literal, &-variable, &-regexp, &-link { color: v44 }
            &-tag { color: v25
                & .hljs-attr { color: v44 }}
            &-name, &-attribute, &-type { color: v25 }
            &-class {
                &-hljs {
                    &-title { color: v25 }}}
            &-title, &-section { color: v74 }
            &-selector {
                &-id { color: v74 }}
            &-template {
                &-variable { color: v44 }}
            &-string, &-doctag { color: v87 }
            &-symbol, &-bullet { color: v56 }
            &-meta { color: v96 }
            &-built {
                &_in, &in-name { color: v25 }}
            &-deletion { background: v13 }
            &-addition { background: v41 }
        }

        // Highlight docs | github
        code, .highlight{
            background: var(--color-codemirror-bg)
            // color the blob-num bg in editors
            .blob {
                &-num:not([class*="-addition"]):not([class*="-deletion"]):not([class*="-expandable"]) {
                    background: var(--color-codemirror-gutters-bg)
                }
            }
            & .c, & .cm & .c1, & .go { color: v95 }
            & .cp, & .cs, & .gh, & .bp { color: v96 }
            & .err {
                color: v19
                background-color: v11
            }
            & .err { border: 1px solid v15 }
            & .m, & .mf, & .mh, & .mi, & .mo, & .na, & .nv, & .no, & .vc, & .vg, & .vi, & .il { color: v55 }
            & .nt { color: v66 }
            & .s, & .s2, & .sb, & .sc, & .sd, & .se, & .sh, & .si, & .sx, & .s1 { color: v17 }
            & .gd {
                color: v99
                background-color: v13
            }
            & .gd .x {
                color: v99
                background-color: v11
            }
            & .gr, & .gt { color: v15 }
            & .ne, & .nf { color: v14 }
            & .gi {
                color: v99
                background-color: v41
            }
            & .gi .x {
                color: v99
                background-color: v40
            }
            & .gp, & .w { color: v97 }
            & .gu { color: v96 }
            & .hll { background-color: v32 }
            & .kt, & .nc { color: v64 }
            & .k, & .kc, & .kd, & .kn, & .kp, & .kr { color: v45 }
            & .nb {  color: v67 }
            & .ni { color: v76 }
            & .nd, & .ow { color: v78 }
            & .nn, & .o { color: v95 }
            & .sr { color: v45 }
            & .ss { color: v78 }
            & .nl { color: v29 }
        }

        // Code is colored in wrong places e.g. https://github.com/openstyles/stylus/issues/1176#L328
        // Remove bg from e.g. -> Merge remote-tracking branch 'upstream/master'
        code { background-color: inherit }

        // CodeMirror editor.
        div.CodeMirror-selected {
            background: var(--color-codemirror-selection-bg)
        }

        .CodeMirror {
            color: var(--color-codemirror-text)
            &-selected { background: var(--color-codemirror-selection-bg) }
            &[class*='github-'] {
                background: var(--color-codemirror-bg)
                color: var(--color-codemirror-text)
                rad: 0 0 3px 3px
            }
            &-linenumber {
                color: var(--color-diff-blob-num-text)
                &:hover { color: var(--color-diff-blob-num-hover-text) }
            }
            /.cm {
                &-negative { --color-diff-deletion-text: var(--color-diff-deletion-border) }
                &-positive { --color-diff-addition-text: var(--color-diff-addition-border) }
                &-numberff { color: var(--color-codemirror-syntax-constant) }
                &-atom, &-number { color: var(--color-codemirror-syntax-entity)}
                &-variable {
                    &-3, &-2 { color: var(--color-codemirror-syntax-constant) }
                }
                &-def { color: var(--color-codemirror-syntax-keyword) }
                &-meta { color: var(--color-codemirror-text) }
                &-qualifier, &-property, &-tag { color: var(--color-codemirror-syntax-constant) }

            }
            // not using css vars upstream
            &-dialog-top { border-bottom-color: bg5 }
        }
    }
    [class*='github-'] {
        .CodeMirror {
            &-line {
                &::selection, & > span::selection,
                &-selected, & > span > span::selection { background: var(--color-codemirror-selection-bg) }
            }
            &-lines { background: var(--color-codemirror-bg) }
            &-gutters { background: var(--color-codemirror-gutters-bg) }
        }
        .cm {
            &-string { color: var(--color-codemirror-syntax-string) }
            &-comment { color: var(--color-codemirror-syntax-comment) }
            &-keyword { color: var(--color-codemirror-syntax-keyword) }
            &-builtin { color: var(--color-codemirror-text) }
        }
    }

    // Fix gist snippet hover
    .gist {
        &-snippet {
            .file-box:hover .file {
                border-color: v04
            }
            .link-overlay .link {
                color: v98
                background-color: v04
            }
        }
        // fix gist quicksearch (not using css vars upstream)
        &-quicksearch {
            &-results {
                background: bg1
                border: 1px solid bg4
                .select-menu-item {
                    border-bottom-color: bg4
                    &.navigation-focus {
                        h4, span { color: v98 } //fg2 }
                    }
                    h4, span { color: v97 }
                }
                .gist-quicksearch-no-results { color: v95 }
            }
        }
    }

    // fix broken design for gist searches e.g. https://gist.github.com/search?q=test
    .gistsearch-head {
        max-width: 980px
        margin: 0 auto
        h1.p-0 {
            margin-right: 8px i
        }
        input {
            background-color: var(--color-input-contrast-bg)
            &:focus {
                background-color: var(--color-input-bg)
            }
        }
    }

    // Gist search results page too many gist search inputs and pages if you ask me.
    #gist_search input[type='text' i] {
        background-color: var(--color-input-contrast-bg)
        &:focus {
            background-color: var(--color-input-bg)
        }
    }

    // Org access e.g. oauth bg on hover
    .oauth-org-access-details {
        .oauth-org-item:hover { background: bg4 }
    }

    .oauth-permissions-details {
        .permission-summary {
            em.highlight {
                color: v98 //#4c4a42;
                background: v31 //#fff9ea;
            }
        }
    }

    // paginations more (zig-zag line)
    .pagination-loader-container {
        // e.g. https://github.com/platformio/platformio-atom-ide-terminal/issues/668
        r       = unquote
        prefix  = 'data:image/svg+xml;utf8,'
        prefix += '<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none">'
        path    = '<path d="M0 11L8 5L16 11" stroke="' + to_svg($bg5) + '" stroke-width="1.5"/>'
        xy      = 'repeat-x center/16px'
        background: s("url('%s%s</svg>') %s", r(prefix), r(path), r(xy))
    }

    // align search icon e.g. https://github.com/orgs/:orgname/people/:username
    // e.g. https://github.com/:orgname/:reponame/people
    // Extension -> GitHub Original Streak.
    // Link: https://github.com/Naramsim/GithubOriginalStreak
    .original-streak {
        .contrib-number { c: v98 }
        .text-muted { c: v97 }
    }
}

@-moz-document regexp('https?://((cli)\\.)github?.com(/.*)?') {
    // https://cli.github.com/manual/
    /body {
        background-color: bg3
        color: v98
    }
    // Backgrounds
    .bg {
        &-blue-light { background-color: v60 i }
        &-blue { background-color: vv63 i }
        &-purple-light { background-color: var(--color-auto-purple-1) i }
        &-white { c: 0 0 bg2 }
        &-red {
            &-light { c: 0 0 v10 }
        }
        &-guides {
            &-gradient { background: linear-gradient(0deg, bg2 0%, t 100%) i }
        }
        &-gray {
            &-light { c: 0 0 var(--color-bg-primary) }
            &-dark { c: 0 0 var(--color-bg-secondary) }
        }
        &-black { background-color: bg1 }
    }

    // Mask
    .mask { background: bg2 }
    // Text colors
    .text {
        &-gray-dark { c: v98 0 0 }
        &-gray { c: v97 0 0}
        &-gray-light { c: v97 0 0 }
        &-white { c: v98 0 0 }
        &-blue { c: v08 0 0 }
    }

    .color {
        &-gray-5 { c: v95 0 0 }
    }

    .note { color: v97 }

    .link {
        &-gray-dark { c: var(--color-text-secondary)
            &:hover { c: v08 } }
        &-gray {
            c: var(--color-text-tertiary)
            &:hover { c: v08 }
        }
    }

    .DocsNav {
        a { color: v09 }
        .main-page { color: var(--color-text-secondary) }
    }

    .markdown-body {
        h1, h2 { border-bottom-color: var(--color-border-primary) }
        a { c: v09 }
        pre, code { c: 0 0 var(--color-codemirror-bg) }
    }

    pre.terminal {
        .gray { c: var(--color-ansi-gray) } //#959da5
        .cyan { c: var(--color-ansi-cyan) } //#0366d6
        .green { c: var(--color-ansi-green) } //#0366d6
        .red { c: var(--color-ansi-red) } //#d73a49
        .magenta { c: var(--color-ansi-magenta) } //#ea4aaa
        .yellow { c: var(--color-ansi-yellow) } //#b08800
    }

    // Images https://cli.github.com/
    /img {
        &[src*="pattern"] {
            filter: invert(0.90) hue-rotate(180deg) brightness(1.5)
            mix-blend-mode: lighten
        }
    }
}

@-moz-document regexp('https?://((docs)\.)github?.com(/.*)?') {
    // https://docs.github.com
    body {
        background-color: bg0
        &, p { c: v98 }
        a {
            color: v07
            &:hover { color: v09 }
        }
    }

    // Landing svg
    #landing {
        /[data-name="octocat header"] {
            filter: invert(.93) brightness(1.3) grayscale(1)
            mix-blend-mode: lighten
        }
    }

    // TODO https://docs.github.com/en/enterprise-server@3.0/admin/release-notes

    // Search container
    header {
        #search-results-container {
            background: var(--color-bg-secondary)
            box-shadow: 0 1px 15px var(--color-shadow-medium)
        }
    }

    .header-notifications a {
        color: v08
        &:hover { color: v09 }
    }

    // Image fixes
    //  All procedural images
    .procedural-image-wrapper {
        /img:not([src*="updated"]) {
            filter: invert(.95) hue-rotate(180deg) brightness(1.3)
            mix-blend-mode: lighten
        }
    }

    // More guides
    .Box {
        background-color: bg1
        border: 1px solid bg4
        // header at https://docs.github.com/en/actions/guides
        &-header {
            background-color: bg2
            border-color: bg5
        }
        &-row {
            border-top: 1px solid bg5
        }
    }

    .dropdown-withArrow svg.arrow[stroke*="#1277eb"] {
        stroke: var(--color-icon-primary)
    }

    // Sidebar
    .sidebar {
        background-color: var(--color-bg-primary)
        a { color: v98 }
        &-maptopic {
            .sidebar-article {
                &::before { border-left: .1rem solid v05 }
                &.active::before { border-left: .3rem solid v05 }
            }
        }
        &-background-color { background-color: var(--color-bg-primary) }
        &-article.is-current-page > a { color: v03 }
        &-category {
            &.active { background-color:  var(--color-bg-primary) }
            & > a { color: v07 }
            & summary a { color: v07 }
            & .is-current-page > a { color: v09 }
        }
        &-product {
            & > a { color: v07 }
            & summary a { color: v09 }
        }
        &-maptopic {
            .is-current-page > a { color: v06 }
        }
        &-products {
            a:hover { color: v09 }
            arrow:hover { color: v08 }
        }
    }

    // Backgrounds
    .bg {
        &-blue {
            c: 0 0 v63
            &-1 { c: 0 0 v60 }
            &-light { c: 0 0 v60 }
        }
        &-purple-light { c: 0 0 var(--color-auto-purple-1) }
        &-white { c: 0 0 bg2 }
        &-red {
            &-light {
                c: 0 0 v10
                a { color: v09 }
            }
        }
        &-guides {
            &-gradient { background: linear-gradient(0deg, bg2 0%, t 100%) i }
        }
        &-yellow {
            &-light { c: 0 0 v30 }
        }
        &-gray {
            c: 0 0 bg1
            &-light { c: 0 0 bg2 }
        }
    }

    // Borders
    .border {
        border: 1px solid bg4 i
        &-top { c: 0 bg4 0 }
        &-left { c: 0 bg4 0 }
        &-blue { c: 0 v63 0 }
        &-purple { c: 0 var(--color-auto-purple-6) 0 }
        &-gray-light { c: 0 var(--color-border-primary) 0 }
        &-red { c: 0 v15 0 }
        &-bottom { c: 0 var(--color-border-secondary) 0 }
        &-yellow { c: 0 v32 0 }
    }

    .markdown-body {
        table {
            tr {
                background-color: bg0
                border-top-color: var(--color-border-secondary)
                &:nth-child(2n) { background-color: bg0 }
            }
            // no borders opinionated or not in this
            td code { border: 0 }
            th {
                background-color: bg0
                box-shadow: 0 3px 0 0 var(--color-border-secondary)
            }
        }
        h1, h2 { border-bottom-color: var(--color-border-secondary) }
        .highlight pre, pre {
            background-color: var(--color-codemirror-bg)
            .hljs { color: var(--color-text-secondary) }
        }
        code { background-color: var(--color-markdown-code-bg) }
        .code-extra pre { border-color: bg4 i }
        img {
            background-color: t
            &[src*="updated"], &[src*="test-artifact"], &[src*="passing"] {
                filter: none
                border-color: bg4
                background-color: bg4
            }
        }
        hr { background-color: bg4 }
    }

    // Text colors
    .text {
        &-gray-dark { c: v98 0 0 }
        &-gray { c: v95 0 0 }
        &-gray-light { c: v95 0 0 }
        &-white { c: v98 0 0 }
        &-blue {
            c: v08 0 0
            &:hover { c: v09 0 0 }
        }
        &-purple {
            color: v79 i
        }
    }

    .color {
        &-gray-5 { c: v96 0 0 }
    }

    .note { color: v95 0 0 }

    .link {
        &-gray {
            c: v95 &:hover { c: v08 }
            &-dark {
                c: var(--color-text-secondary) 0 0
                &:hover { c: v08 }
            }
        }
    }

    // Shadows
    .box-shadow {
        &-large { box-shadow: var(--color-shadow-large) i }
        &-medium { box-shadow: var(--color-shadow-medium) i }
    }

    .hover-shadow {
        &-large:hover { box-shadow: var(--color-shadow-large) i }
    }

    [open] > .btn {
        border-color: var(--color-btn-border)
        background-color: var(--color-btn-bg)
    }
    .btn {
        color: var(--color-btn-primary-text)
        border-color: var(--color-btn-border)
        background-color: var(--color-btn-bg)
        transition: color, background 0.2s
        &-link { color: v08 }
        &:active,
        &.selected,
        &[aria-selected="true"] {
            background-color: var(--color-btn-hover-bg) i
            box-shadow: var(--color-shadow-inset)
        }
        &.disabled,
        &:disabled,
        &[aria-disabled="true"] {
            color: var(--color-text-disabled)
            background-color: var(--color-btn-bg)
            border-color: var(--color-btn-border)
        }
        &.hover,
        &:hover {
            background-color: var(--color-btn-hover-bg)
            border-color: var(--color-btn-hover-border)
        }
        &-mktg {
            color: v98
            border-color: v08
            background-color: v06
            &:hover { background-color: v04; border-color: v06; color: v98 }
            &:focus { box-shadow: 0 0 0 3px v02 }
        }
        &-outline {
            color: v08
            border-color: bg5
            background-color: var(--color-btn-bg)
            &:hover {
                background-color: v08 //bg3
                box-shadow: 0 1px 0 rgba(FG, .1), inset 0 1px 0 rgba(FG, .03)
                color: v98
            }
            &-mktg {
                background-color: bg0
                border-color: v06
                color: v06
                &:hover { background-color: bg0; border-color: v09; color: v09 }
                &:focus { box-shadow: 0 0 0 3px v02 }
            }
            &:focus { box-shadow: 0 0 0 3px v02 }
            &.disabled,
            &:disabled,
            &[aria-disabled="true"] {
                color: var(--color-btn-outline-disabled-text)
                background-color: var(--color-btn-bg)
                border-color: var(--color-btn-border)
            }
        }
        .octicon { color: v94 }
    }

    :checked + .x-radio-label { background: v04 }

    #landing[style*="background-color: #fafbfc"],
    .js-support-banner[style*="background-color: #fafbfc"] {
        c: v98 0 var(--color-bg-canvas)
    }

    .underline-dashed { background-image: linear-gradient(to right, bg5 50%, bg0 0%) i }
    .UnderlineNav-item { color: var(--color-menu-heading-text) }

    // Search elements
    .ais-SearchBox {
        &-input {
            r       = unquote
            prefix  = 'data:image/svg+xml;utf8,'
            prefix += '<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">'
            path    = '<path fill="' + to_svg($v95) + '" fill-rule="evenodd" d="M15.7 13.3l-3.81-3.83A5.93'
            path   += ' 5.93 0 0013 6c0-3.31-2.69-6-6-6S1 2.69 1 6s2.69 6 6 6c1.3 0 2.48-.41 3.47-1.11l3.8'
            path   += '3 3.81c.19.2.45.3.7.3.25 0 .52-.09.7-.3a.996.996 0 000-1.41v.01zM7 10.7c-2.59 0-4.7'
            path   += '-2.11-4.7-4.7 0-2.59 2.11-4.7 4.7-4.7 2.59 0 4.7 2.11 4.7 4.7 0 2.59-2.11 4.7-4.7 4.7z"/>'
            xy      = 'no-repeat 6px'

            background: bg2 s("url('%s%s</svg>') %s", r(prefix), r(path), r(xy) )
            border: 1px solid bg5
            box-shadow: inset 0 1px 0 rgba(BG, .2)
            color: v98
            &:focus {
                background-color: bg0
                border-color: v04
                box-shadow: 0 0 0 3px v01
                color: v99
            }
        }
        &-Hits-item:hover { background: bg4 }
    }

    .search-result-title {
        mark { color: v08 }
        .ais-Highlight-highlighted { color: v08 }
    }

    .nav-desktop {
        &-productDropdown,
        &-langDropdown { background: var(--color-dropdown-bg) }
    }

    .form {
        &-control, &-select {
            color: v97
            background-color: bg1
            border: 1px solid bg4
            box-shadow: none
            &:focus {
                border-color: v04
                outline: none;
                box-shadow: 0 0 0 3px v01
                background-color: bg0
            }
        }
    }

    // style latest dumb inline styles, there was no issue here whatsoever.
    section[style="background:#fafbfc" i] {
      background: bg2 i
    }

    // Style more inline color styles e.g. https://docs.github.com/en/actions/guides
    div.position-absolute[style*="background: linear-gradient(to right"] {
      filter: invert(1)
      mix-blend-mode: darken
    }
    div.position-absolute[style*="background: linear-gradient(to left"] {
      filter: invert(1)
      mix-blend-mode: darken
    }

    // Fix styles e.g. https://docs.github.com/en/actions/guides
    .bg-gradient {
        &--blue-purple {
            background: linear-gradient(-70deg, v66 0%, v77 100%)

            .border-white {
                border: 1px solid v98 i
                &:hover { border: 1px solid v99 i }
            }
        }
        &--purple-pink {
            background: linear-gradient(135deg, v75 0%, v86 100%)

            .border-white {
                border: 1px solid v98 i
                &:hover { border: 1px solid v99 i }
            }
        }
    }

    // Fix styles e.g. https://docs.github.com/en/actions/guides
    .text-gradient--purple-pink { background-image: linear-gradient(135deg, v79 0%, v89 100%) }

    // Fix styles e.g. https://docs.github.com/en/actions/guides
    .border-gradient--purple-pink {
        &::after { background: linear-gradient(135deg, v79 0%, v89 100%) }
        &::before { background: bg2 }
    }
    // stick to consistent style of select boxes e.g. https://docs.github.com/en/actions/guides
    select.form-select {
        border: 1px solid bg5 i
    }

    // GraphQl IDE iframe in docs
    // e.g. https://docs.github.com/en/graphql/overview/explorer
    iframe#graphiql {
        border: 1px solid bg4
    }
}
@-moz-document regexp('https?://((graphql)\\.)github?.com(/.*)?') {
    // https://graphql.github.com

    // Body text color
    body { color: v97 }

    // Box
    .Box-row {
        border-top: 1px solid bg4
        &--yellow { background: var(--color-auto-yellow-0) }
    }

    // Select
    .select {
        background: v01
        color: v97
    }

    // GraphQl IDE iframe body
    iframe#graphiql {
       /body { background-color: bg1 }
    }

    .graphiql {
        &-ide {
            border-top: 1px solid bg4
            &.signed-out { &::after { background: bg2 } }
        }
        &-container {
            color: v97
            .enum-value { color: v06 }
            button { color: v97 }
            .history-contents li { border-bottom-color: bg4}
            .show-btn {
                border: solid 1px bg4
                background: bg3
                color: v96
            }
            input { color: v98 }
            .topBar {
                background: bg4
                border-bottom: 1px solid bg4
            }
            .execute {
                &-button {
                    background: var(--color-btn-bg)
                    border: 1px solid var(--color-btn-border)
                    box-shadow: none
                    fill: v98
                    &:active, &:hover {
                        background: var(--color-btn-hover-bg)
                        box-shadow: none
                    }
                }
                &-options {
                    background: bg3
                    box-shadow: var(--color-shadow-medium)
                }
            }
            .doc {
                &-category {
                    &-title {
                        border-bottom: 1px solid bg4
                        color: v97
                    }
                    &-item { color: v97 }
                }
                &Explorer {
                    &Show {
                        background: bg4
                        border-left: 1px solid bg5
                        border-bottom: 1px solid bg4
                        color: v08
                        &::before {
                            border-left: 2px solid v06
                            border-top: 2px solid v06
                        }
                    }
                    // Opinionated visual feedback
                    &Hide:hover { color: v98 }
                    &Wrap {
                        background: bg2
                        box-shadow: 0 0 8px bg5
                    }
                }
                &-explorer {
                    background: bg2
                    &-contents {
                        background-color: bg2
                        border-top: 1px solid bg4
                    }
                    &-back {
                        color: v08
                        &::before {
                            border-left: 2px solid v06
                            border-top: 2px solid v06
                        }
                    }
                }
                &-deprecation {
                    background: var(--color-alert-warn-bg)
                    box-shadow: inset 0 0 1px var(--color-alert-warn-border)
                    color: var(--color-alert-warn-text)
                }
            }
            .history {
                &-contents {
                    background-color: bg2
                    border-top: 1px solid bg4
                    p {
                        border-bottom: 1px solid bg4
                        input {
                            background-color: bg0
                            border: 1px inset bg4
                        }
                    }
                    div {
                        [style*="border-bottom: 1px solid rgb(214\, 214\, 214)"] {
                            border-bottom: 1px solid bg5 i
                        }
                    }
                    li {
                        border-bottom: 1px solid bg5
                        padding: 10px
                        height: 1.5em
                        &:hover {
                            background: v85
                            border-bottom: 1px solid bg5
                            color: v99
                        }
                    }
                    input[type="text"] {
                        c: v95 bg4 bg0
                        padding: 3px
                        rad: .2rem
                    }
                }
                &PaneWrap {
                    background: bg2
                    box-shadow: 0 0 8px bg5
                }
            }
            .toolbar {
                &-button {
                    background: var(--color-btn-bg)
                    box-shadow: inset 0 0 0 1px bg3
                    color: v96
                    // Opinionated visual feedback
                    &:active, &:focus, &:hover {
                        background: var(--color-btn-hover-bg)
                        color: v98
                        bs: none
                    }
                }
            }
            .variable-editor-title {
                background: bg3
                border-bottom: 1px solid bg4
                border-top: 1px solid bg4
                color: v98
            }
            .result {
                &Wrap { border-left: 1px solid bg5 }
                &-window .CodeMirror-gutters { border-color: bg5 }
            }
            .search-box {
                border-bottom: 1px solid bg4
                > input { background: bg2 }
                .search-box-clear {
                    background-color: var(--color-btn-focus-bg)
                    color: v97
                    &:hover { background-color: var(--color-btn-hover-bg) }
                }
            }
            .CodeMirror {
                color: v97
                .CodeMirror-gutter { background-color: var(--color-codemirror-gutters-bg) }
                .CodeMirror-linenumber {
                    color: var(--color-codemirror-linenumber-text)
                    &:hover { color: var(--color-diff-blob-num-hover-text) }
                }
            }
        }
        &-explorer {
            &-node {
                // explorer checkbox border
                svg path[d*="0H2C0.9"] { g: bg5 }
                span { c: var(--color-auto-blue-7) 0 0 }
                select[style] {
                    // Custom icon.
                    r       = unquote
                    prefix  = 'data:image/svg+xml;utf8,'
                    prefix += '<svg width="16" height="16" fill="' + to_svg($v95) + '" '
                    prefix += 'xmlns="http://www.w3.org/2000/svg">'
                    path    = '<path d="M4.427 9.427l3.396 3.396a.251.251 0 00.354 '
                    path   += '0l3.396-3.396A.25.25 0 0011.396 9H4.604a.25.25 0 '
                    path   += '00-.177.427zM4.423 6.47L7.82 3.072a.25.25 0 01.354 0L11.57 '
                    path   += '6.47a.25.25 0 01-.177.427H4.6a.25.25 0 01-.177-.427z"/>'

                    background-image: s("url('%s%s</svg>') %s", r(prefix), r(path) )
                    background-position: right .2rem center
                    background-repeat: no-repeat i
                    background-size: 16px
                    color: v09 i
                    border: .1rem solid bg5
                    rad: .1rem i
                    padding-right: 18px
                    -webkit-appearance: none
                    -moz-appearance: none
                    appearance: none
                    // Override default colors.
                    &:not([disabled]) {
                        c: 0 bg5 bg0
                        &:hover { c: 0 0 bg2 }
                        &:active { c: 0 0 bg4 }
                    }
                    // override bright border color
                    &:not(:active) {
                        c: 0 bg4 0
                    }
                }
            }
            &-root {
                span {
                    input {
                        background: bg0
                        border-color: bg5 i
                        padding: 0 8px 0 8px i
                        rad: 3px i
                    }
                }
                // explorer checkbox border
                div svg path[d*="0H2C0.9"] { g: v95 }
                .toolbar-button {
                    background-color: var(--color-btn-bg) i
                    &:hover { background-color: var(--color-btn-hover-bg) i }
                    &:active {
                        background: var(--color-btn-focus-bg) i
                        box-shadow: none
                    }
                }
            }
        }
    }

    // GraphQl result window
    .result-window .CodeMirror {  background: bg1 }

    li.CodeMirror {
        &-hint {
            border-top: 1px solid bg4
            color: v98
            &-active {
                background-color: v02
                border-top: 1px solid bg4
                color: v98
            }
            &-information { border-top: 1px solid bg4 }
        }
    }
    div.CodeMirror {
        &-lint-tooltip {
            background-color: bg3
            color: v97
            box-shadow: var(--color-shadow-medium)
        }
    }
    .CodeMirror {
        background: bg1
        .CodeMirror {
            &-cursor { border-left: 1px solid var(--color-codemirror-text) }
        }
        &-line {
            &::selection { background: var(--color-code-selection-bg) }
            & > span {
                &::selection { background: var(--color-code-selection-bg) }
                & > span {
                    &::selection { background: var(--color-code-selection-bg) }
                }
            }
        }
        &-gutters { border-right: 1px solid bg5 }
        &-hints { background: bg4 }
        &-hint {
            &-information {
                border-top: 1px solid bg5
                .content { color: v97 }
            }
        }
        &-info {
            background: bg3
            color: v97
            box-shadow: var(--color-shadow-medium)
            .info {
                &-description { color: v97 }
                &-deprecation {
                    background: var(--color-alert-warn-bg)
                    box-shadow: inset 0 0 1px var(--color-alert-warn-border)
                    color: var(--color-alert-warn-text)
                }
            }
        }
    }

    // Buttons
    .btn {
        color: var(--color-btn-primary-text)
        border-color: var(--color-btn-border)
        background-color: var(--color-btn-bg)
        background-image: none
        &:focus,
        &.focus { box-shadow: 0 0 0 0.2px fg5 }
        &:active,
        &.selected {
            background-color: var(--color-btn-focus-bg) i
            border-color: var(--color-btn-border)
            box-shadow: var(--color-shadow-inset)
        }
        &:hover {
            background-color: var(--color-btn-hover-bg)
            background-image: none
        }
        &-mktg {
            color: var(--color-btn-primary-icon)
            border: 1px solid v06
            &:focus { box-shadow: 0 0 0 0.2em v01 }
            &:hover { border: 1px solid v06 }
    }
    &-primary {
        color: var(--color-btn-primary-text)
        background-color: var(--color-btn-primary-bg)
        background-image: none
        box-shadow: 0 1px 0 rgba(27, 31, 35, 0.1), inset 0 1px 0 rgba(255, 255, 255, 0.03);
        &:hover {
            background-image: none
            background-color: var(--color-btn-primary-hover-bg) }
        }
        &:focus,
        &.focus { box-shadow: 0 0 0 2px v01 }
        &:active,
        &.selected,
        &[aria-selected="true"] {
            background-image: none
            background-color: var(--color-btn-primary-focus-bg)
            box-shadow: var(--color-shadow-inset)
        }
    }
}

@-moz-document regexp('https?://((support)\\.)github?.com(/.*)?') {
    // https://support.github.com

    // Override main section
    html {
        body {
            background-color: bg1 i
            color: v97
            a { color: v09 }
        }
    }

    // Banner
    .banner-prompt-bg { background-image: initial }

    hr, .rule { border-color: var(--color-border-primary) }

    // Backgrounds
    .bg {
        &-blue {
            c: 0 0 v05
            &:hover { c: v99 0 v07 }
        }
        &-gray-light { c: 0 0 var(--color-bg-primary) }
        &-gray-dark { c: 0 0 bg1 }
    }

    // Text colors
    .text {
        &-blue {
          c: v08 0 0
          &:hover { c: v09 0 0 }
        }
        &-gray { c: v98 0 0 }
        &-gray-dark { c: v97 0 0 }
        &-gray-light { c: v98 0 0 }
        &-white { c: v99 0 0 }
    }

    .link-gray {
        c: v95
        &:hover { c: v08 0 0 }
    }

    .muted-link {
        c: v95 0 0
        &:hover { c: v09 0 0 }
    }

    // Buttons
    .btn {
        color: var(--color-btn-primary-text)
        border-color: var(--color-btn-border)
        background-color: var(--color-btn-bg)
        &:focus,
        &.focus { box-shadow: 0 0 0 .2px fg5 }
        &:active,
        &.selected, &[aria-selected="true"] {
            background-color: var(--color-btn-focus-bg)
            box-shadow: var(--color-shadow-inset)
        }
        // fix aberratiosn when selecting tab and leaving screen, txt color goes dark
        &-link:not(:active) { color: v98 }
        &:hover { background-color: var(--color-btn-hover-bg) }
        &-mktg {
            color: var(--color-btn-primary-icon)
            border: 1px solid v06
            &:focus { box-shadow: 0 0 0 .2em v01 }
            &:hover { border: 1px solid v06 }
        }
        &-primary {
            color: var(--color-btn-primary-text)
            background-color: var(--color-btn-primary-bg)
            box-shadow: 0 1px 0 rgba(BG, .1), inset 0 1px 0 rgba(FG, .03);
            &:hover { background-color: var(--color-btn-primary-hover-bg) }
            &:focus,
            &.focus { box-shadow: 0 0 0 2px v01 }
            &:active,
            &.selected,
            &[aria-selected="true"] {
                background-color: var(--color-btn-primary-focus-bg)
                box-shadow: var(--color-shadow-inset)
            }
        }
    }

    // CSS order matters here to override btn-link:not(:hover) above
    .Header {
        background-color: bg3
        &-item img { filter: invert(1) }
        .Header-link {
            color: v08
            &:hover { color: v09 }
        }
    }

    // Box Header
    .Box {
        background-color: var(--color-bg-primary)
        border: 1px solid var(--color-border-primary)
        &-header {
            background-color: var(--color-bg-secondary)
            border-color: var(--color-border-primary)
        }
    }

    // Borders
    .border {
        &-bottom { border-bottom: 1px solid var(--color-border-primary) i }
        &-gray {
            &-light { c: 0 bg4 0 }
        }
    }

    .form-select, .form-control {
        color: var(--color-text-secondary)
        background-color: var(--color-input-bg)
        border-color: var(--color-input-border)
        box-shadow: none;
        &.focus,
        &:focus {
            border-color: v06
            box-shadow: 0 0 0 3px v01
        }
    }

    .form-group {
        .form-control {
            background-color: var(--color-input-contrast-bg)
            &.input-contrast {
                background-color: var(--color-input-contrast-bg)
            }
            &:focus {
                background-color: var(--color-input-bg)
                border-color: v06
                box-shadow: 0 0 0 3px v01
            }
        }
        & #q {  background-color: var(--color-input-bg) }
    }

    // Search result
    #site-search-results {
        .search-result {
            &:hover { background: v01 }
            &-title em { color: v08 }
            &-intro em { border-bottom: 1px solid v06 }
        }
    }

    // recolor search icon svg -> https://support.github.com/
    #q {
        r       = unquote
        prefix  = 'data:image/svg+xml;utf8,'
        prefix += '<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">'
        path    = '<path fill="' + to_svg($v95) + '" fill-rule="evenodd" d="M15.7 13.3l-3.81-3.83A5.93'
        path   += ' 5.93 0 0013 6c0-3.31-2.69-6-6-6S1 2.69 1 6s2.69 6 6 6c1.3 0 2.48-.41 3.47-1.11l3.8'
        path   += '3 3.81c.19.2.45.3.7.3.25 0 .52-.09.7-.3a.996.996 0 000-1.41v.01zM7 10.7c-2.59 0-4.7'
        path   += '-2.11-4.7-4.7 0-2.59 2.11-4.7 4.7-4.7 2.59 0 4.7 2.11 4.7 4.7 0 2.59-2.11 4.7-4.7 4.7z"/>'
        xy      = 'no-repeat 6px'

        background: s("url('%s%s</svg>') %s", r(prefix), r(path), r(xy) i)
    }

    // style toolbar-item color previewable form e.g. https://support.github.com/contact
    .toolbar-item {
        color: var(--color-text-secondary)
        &:hover { color: v09 }
    }

    .previewable-comment-form .comment-form-head.tabnav { background: bg3 }

    .add-markdown-comment {
        color: v98
        border: 1px solid var(--color-border-primary)
    }
    // Fix preview/write selected due to necessary override for contrast reasons
    .preview-selected {
        shade = (dark(BG)) ? darken : lighten
        background-color: mix(shade(FG, 5%), BG, 2%)
        // Tweak bottom margin as its styled with darker color
        margin-bottom: -7px
    }

    // tooltipped
    .tooltipped {
        &::after {
            background: bg2
            color: v98
        }
        &::before {
            color: v98
        }
        &-n::before, &-ne::before, &-nw::before {
            border-top-color: bg2
        }
    }

    .tabnav {
        border-bottom: 1px solid var(--color-border-primary)
        &-tab {
            color: v96
            &:hover { color: v98 }
            &.selected,
            &[aria-selected="true"],
            &[aria-current]:not([aria-current="false"]) {
                border-color: var(--color-border-primary)
            }
        }
    }

    .drag-and-drop {
        color: var(--color-text-tertiary)
        background-color: var(--color-bg-primary)
        border: 1px solid var(--color-border-primary)
    }

    #contact-us {
        img[src*="mona"] {
            filter: invert(.95) hue-rotate(180deg) brightness(1.5) grayscale(1)
            mix-blend-mode: lighten
        }
    }

    // Icon -> no messages
    // https://support.github.com/tickets/personal/0
    svg[width="56"][height="56"] {
        [stroke="#79B8FF"] { g: 0 var(--color-icon-secondary) }
        [stroke="#2088FF"] { g: 0 var(--color-icon-primary) }
    }
}

@-moz-document regexp('https?://render\.githubusercontent?.com(/.*)?') {
    // https://render.githubusercontent.com
    // Diff -> Image background.
    .render-shell {
        img[src*='svg']:hover { filter: invert(.95) hue-rotate(180deg) }
        &, /body {
            background-image: none
            c: 0 0 bg1
        }

        img, img.asset { c: 0 bg1 }

        // Rich diff -> Border/text colors.
        .deleted-frame { c: 0 v15; &::before { c: v16 }}
        .added-frame { c: 0 v45; &::before { c: v46 }}
        .shell p { c: v96 }

        if (dark(BG)) {
            // Rich diff -> Invert controls.
            .swipe .swipe-bar,
            .onion-skin .controls > * {
                filter: invert(0.95) brightness(150%)
            }

            // OpenStreetMap.
            .leaflet {
                &-bar, &-control-layers { c: 0 fg1 }
                &-bar > a:last-child { border-bottom: none }
                &-container { filter: invert(0.95) hue-rotate(180deg) brightness(120%) }
                &-popup-content { overflow-y: auto }
                &-marker-icon { filter: invert(1) grayscale(1) brightness(130%) }
                &-control.mapbox-logo { filter: invert(.5) }
            }
        }

        // fix imgs https://github.com/udacity/deep-learning-v2-pytorch/blob/master/cycle-gan/CycleGAN_Solution.ipynb
        .output_area {
            .output_png { background: bg5 }

            img:not(.svg) {
                filter: none
                &:hover { filter: none }
            }
        }
    }

    // ipynb e.g. https://github.com/lekhovitsky/CS364A/blob/notebooks/exercises/e1.ipynb
    div {
        .text_cell_render { color: var(--color-text-secondary) }

        .input {
            &_prompt { color: v69 }
            &_area {
                background-color: var(--color-codemirror-bg-contrast)
                border: 1px solid var(--color-diffstat-neutral-border)
            }
        }

        &.output {
            &_subarea {
                img { filter: invert(1) hue-rotate(180deg) brightness(0.8) }
            }
            &_prompt { color: v17 }
            &_stderr { background-color: v13 }
        }
        // https://gist.github.com/shailesh-gif/7d2ce9cc9b72be0b8dec46e458cd1108
        // Style all alerts to avoid breaking when occurrences happen
        .alert {
            background-color: var(--color-alert-warn-bg)
            border: 1px solid var(--color-alert-warn-border)
            color: var(--color-alert-warn-text)
            text-shadow: none
            h4 { color: var(--color-alert-warn-text) }
            &-info {
                background-color: var(--color-alert-info-bg)
                border-color: var(--color-alert-info-border)
                color: var(--color-alert-info-text)
                h4 { color: var(--color-alert-info-text) }
            }
            &-danger, &-error {
                background-color: var(--color-alert-error-bg)
                border-color: var(--color-alert-error-border)
                color: var(--color-alert-error-text)
                h4 { color: var(--color-alert-error-text) }
            }
            &-success {
                background-color: var(--color-alert-success-bg)
                border-color: var(--color-alert-success-border)
                color: var(--color-alert-success-text)
                h4 { color: var(--color-alert-success-text) }
            }
        }
    }
    .math { &-inline, &-display { filter: invert(1) } }

    // rendered content ipynb
    .rendered_html {
        color: v97
        pre, code {
            background-color: inherit
            color: v98
        }
        // Fix tables https://gist.github.com/hootyshoot/2f910a1464e6d563d4f8b45a992ed42d
        tr, th, td { border-color: v93 }
    }

    if (code_borders) {
        // Add border around code, highlight, rendered.
        .highlight { border: 1px solid bg5 }
        .rendered_html p code { border: 1px solid bg5 }
        // fix border + bg color
        // e.g. https://render.githubusercontent.com/view/ipynb?commit=3a95d118f9df5a86826e1791c5c100817f0fd924&enc_url=68747470733a2f2f7261772e67697468756275736572636f6e74656e742e636f6d2f756461636974792f646565702d6c6561726e696e672d76322d7079746f7263682f336139356431313866396466356138363832366531373931633563313030383137663066643932342f6379636c652d67616e2f4379636c6547414e5f536f6c7574696f6e2e6970796e62&nwo=udacity%2Fdeep-learning-v2-pytorch&path=cycle-gan%2FCycleGAN_Solution.ipynb&repository_id=147386085&repository_type=Repository#Residual-Functions
        .rendered_html {
            blockquote p code, li code {
                background-color: initial
                border: 0
            }
        }
    }

    // notebook bg https://github.com/udacity/deep-learning-v2-pytorch/blob/master/autoencoder/convolutional-autoencoder/Convolutional_Autoencoder_Exercise.ipynb
    div {
        #notebook { background-color: var(--color-codemirror-bg) }
    }

    #notebook {
        a {
            color: v08
            &:hover { color: v09 }
        }
        code, pre {  color: v96 }
        /hr, /blockquote { border-color: bg4 }
        // https://github.com/lekhovitsky/CS364A/blob/notebooks/exercises/e1.ipynb
        .highlight { background-color: bg2 }
    }

    // Diff -> Images diff bar.
    .render-bar {
        c: 0 bg5 bg2
        li {
            c: v96 bg5
            &.active {
                c: v98
                &::before { c: bg5 }
            }
        }
    }
}
@-moz-document regexp('https?://github.com/sponsors(/.*)?') {
    // https://github.com/sponsors
    .btn-lg-mktg-fluid, .btn-mktg-fluid {
        color: v98
        background-color: v65
        background-image: linear-gradient(-180deg, v64, v64)
        transition: all 0.2s cubic-bezier( 0.3, 0, 0.5, 1)
        &::before {
            background-image: linear-gradient(-180deg, v65, v65)
        }
        &:hover {
            background-color: v63
            background-image: linear-gradient(-180deg, v65, v65)
        }
    }
    .btn-outline-mktg-fluid {
        background: none
        transition: all 0.2s cubic-bezier( 0.3, 0, 0.5, 1)
        &:hover {
            background: none
            box-shadow: inset 0 0 0 2px v04
        }
    }
    // Text colors
    .text {
        &-blue {
            c: v08 0 0
            &-mktg { c: v08 0 0 }
        }
        &-gray {
            c: v98 0 0
            &-mktg { c: v69 0 0 }
        }
        &-gray-dark {
            c: v97 0 0
            &-mktg { c: v98 0 0 }
        }
        &-gray-light { c: v98 0 0 }
    }

    .lead-mktg-fluid { c: v98 0 0 }

    .text-gradient-blue-purple {
        background: linear-gradient(-70deg, v65, v75)
        background-clip: text
    }

    /img {
        &[src*='sponsors-hero'], &[src*='invest-dependency-bg'] {
            filter: invert(.95) hue-rotate(180deg) brightness(1.5)
            mix-blend-mode: lighten
        }
        &[src*='sponsors-cta-bg'] {
            filter: invert(.90) hue-rotate(180deg) brightness(1.5)
            mix-blend-mode: lighten }
    }

    [style*='sponsors-invest-glow'] {
        opacity: .5 i
        mix-blend-mode: exclusion
    }
}
@-moz-document regexp("^https?://github.com/.*\.(patch|diff)$") {
    // https://github.com(patch|diff)
    // Target and style patch/diff URL only within GitHub
    body {
        background: var(--color-codemirror-bg)
        color: var(--color-codemirror-text)
    }
}
@-moz-document regexp('https?://vscode-auth\.github?.com(/.*)?') {
    // https://vscode-auth.github.com
    body {
        background-color: bg0
        color: v99
    }
    .lead {
        color: v95
    }
    .footer {
        background: bg1
    }
    #token {
        background: v60
        border-color: bg4
    }
    .token-did-copy {
        background: bg1
    }
    .failed {
        border-color: bg4
    }
}
@-moz-document regexp('https?://github.com/marketplace.*(/.*)?') {
    // https://github.com/marketplace
    .btn {
        &-mktg {
            background-color: v08
            border: 1px solid v08
            color: v98
        }
        &-outline-mktg {
            background-color: t
            border-color: rgba(convert($v08), .5)
            color: v08
            &:hover {
                background-color: t
                border-color: v09
                color: v09
            }
        }
    }

    .topic-tag-contrast { --color-auto-blue-2: v01 }

    // Overrides
    .Marketplace {
        &Background-buffer { background: bg1 }
        &Body {
            background-color: bg1

            .bg-white[style*="background-image"] { c: 0 0 bg2 }

            /img[src*="icon-marketplace"] {
                filter: grayscale(1) invert(0.95) brightness(1.5)
           }
        }

        &Background-recommendations {
            /img[src*="marketplace-illustration"] {
                filter: invert(0.95) hue-rotate(180deg) brightness(1.5) grayscale(1)
                mix-blend-mode: lighten
            }
        }
    }

    // Marketplace free trial filter border fixes
    .filter-item.selected .Label--gray {
        --color-auto-white: var(--color-auto-black)
    }

    // fix gh circlebadge bg e.g. https://github.com/marketplace/dependabot-preview
    .CircleBadge--github {
        &::after { background-color: var(--color-icon-primary) }
    }

    // Add opinionated circlebadge-small hover effect
    a[href*="/marketplace"]:hover .CircleBadge--small {
        margin-top: -.1rem
        transition: margin-top .17s ease-in-out, box-shadow .12s ease-in-out
    }
}
@-moz-document regexp('https?://github.com/(explore|topics|trending|collections|events|sponsors|team)(/.*)?') {
    // https://github.com/(various)
    .btn-mktg {
        background-color: v08
        border: 1px solid v08
        color: v99
        transition: all 0.2s cubic-bezier( 0.3, 0, 0.5, 1)

        &:hover {
            background-color: v09
            border: 1px solid v09
            color: v99
        }
    }

    aside img[src*="tada"] {
        filter: invert(0.93) brightness(1.3) grayscale(1)
        mix-blend-mode: lighten
    }

    // Team page https://github.com/team
    .bg-white[style*="box-shadow: 0 0 20px 20px #ffffff"] {
        c: 0 0 t
        bs: var(--color-shadow-large) i
    }

    a[href="#organizations"][style*="background-color: #fff"] {
        c: 0 0 t
    }

    div.bg-white img[src*="site/team"], .team-dialogue, .team-graph-left, .team-graph-right {
        filter: invert(.95) hue-rotate(180deg) saturate(2)
    }
    div img[src*="site/team"]:not([src*="workflow"]), .team-dialogue {
        filter: invert(.95) hue-rotate(180deg) saturate(2)
        &.customer-story-bg, &.testimonial-image-blend, &.circle {
          filter: none
        }
    }

    a.text-blue-mktg:hover {
        color: v09 i
    }

    .btn-invisible-mktg-fluid, .btn-lg-invisible-mktg-fluid {
        color: v09
        border: 0 i
        &::before, &:hover { color: v09 }
    }

    .team-collaboration-box {
        &--left {
            rad: 3px i
            &::after {
                border-bottom-color: t
                border-left-color: bg0
            }
            &::before {
              border-bottom-color: t
              border-left-color: bg3
            }
        }
        &--right {
            rad: 3px i
            &::before {
                border-right-color: bg3
                border-bottom-color: t
            }
            &::after {
                border-width: 15px;
                border-right-color: bg0
                border-bottom-color: t
            }
        }
    }
    .team-collaboration--dot .circle[style*="border: 3px solid #fafbfc" i] {
        border: 3px solid v95 i
    }
    .team-octicon { c: 0 0 bg5 }

    .btn-lg-mktg-fluid, .btn-mktg-fluid {
        color: v98
        background-color: v08
        background-image: linear-gradient(-180deg, v08, v07)
        transition: all 0.2s cubic-bezier( 0.3, 0, 0.5, 1)
        &::before {
            background-image: linear-gradient(-180deg, v09, v08)
        }
        &:hover {
            background-color: v09
            background-image: linear-gradient(-180deg, v09, v08)
        }
    }
}
@-moz-document regexp('https?://metrics.lecoq.io.*(/.*)?') {
    svg {
        color: v94
        .bar { rad: 0px i }
        mask rect[fill="white"] { g: v99 0 }

        rect[fill="#d1d5da"] { g: bg2 0 }
        rect[fill="#d73a49"] { g: v16 0 }
        rect[fill="#28a745"] { g: v45 0 }
        rect[fill="#6f42c1"] { g: v75 0 }
        rect[rx="5"]         { rx: 2px }

        path[fill="#d73a49"] { g: v16 0 }
        path[fill="#28a745"] { g: v45 0 }
        path[fill="#6f42c1"] { g: v75 0 }
    }

    .field svg { g: v96 0 }

    h1, h2, h3 {
        color: v09
    }
}
